{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"external \\\"React\\\"\",\"/var/www/loris/node_modules/prop-types/index.js\",\"/var/www/loris/node_modules/prop-types/factoryWithThrowingShims.js\",\"/var/www/loris/node_modules/prop-types/lib/ReactPropTypesSecret.js\",\"/var/www/loris/modules/dataquery/jsx/react.tabs.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"getDefault\",\"getModuleExports\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"React\",\"throwOnDirectAccess\",\"isValidElement\",\"REACT_ELEMENT_TYPE\",\"ReactPropTypesSecret\",\"emptyFunction\",\"shim\",\"props\",\"propName\",\"componentName\",\"location\",\"propFullName\",\"secret\",\"err\",\"Error\",\"isRequired\",\"getShim\",\"ReactPropTypes\",\"array\",\"bool\",\"func\",\"number\",\"string\",\"symbol\",\"any\",\"arrayOf\",\"element\",\"instanceOf\",\"node\",\"objectOf\",\"oneOf\",\"oneOfType\",\"shape\",\"exact\",\"checkPropTypes\",\"PropTypes\",\"_react\",\"_propTypes\",\"Loading\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"getPrototypeOf\",\"state\",\"_react2\",\"default\",\"createElement\",\"className\",\"Component\",\"TabPane\",\"_this2\",\"classList\",\"Active\",\"id\",\"TabId\",\"Title\",\"children\",\"InfoTabPane\",\"_this3\",\"UpdatedTime\",\"FieldSelectTabPane\",\"_this4\",\"FieldSelector\",\"title\",\"items\",\"categories\",\"onFieldChange\",\"selectedFields\",\"Visits\",\"fieldVisitSelect\",\"FilterSelectTabPane\",\"_this5\",\"FilterBuilder\",\"updateFilter\",\"filter\",\"ViewDataTabPane\",\"_this6\",\"sessions\",\"runQuery\",\"changeDataDisplay\",\"getOrCreateProgressElement\",\"getOrCreateDownloadLink\",\"downloadData\",\"Fields\",\"Sessions\",\"displayID\",\"document\",\"progress\",\"fileName\",\"type\",\"parentEl\",\"el2\",\"_this7\",\"zip\",\"JSZip\",\"FileList\",\"FileData\",\"CompleteMask\",\"Array\",\"length\",\"saveworker\",\"dataURLs\",\"multiLinkHandler\",\"buffer\",\"ce\",\"downloadLink\",\"dv\",\"DataView\",\"blb\",\"Blob\",\"window\",\"confirm\",\"Worker\",\"loris\",\"e\",\"link\",\"FileName\",\"NewFileName\",\"downloadLinks\",\"Filename\",\"Complete\",\"Total\",\"$\",\"NumFiles\",\"Files\",\"BaseURL\",\"buttons\",\"onClick\",\"criteria\",\"el\",\"Criteria\",\"item\",\"undefined\",\"role\",\"operator\",\"htmlFor\",\"data-toggle\",\"displayType\",\"StaticDataTable\",\"Headers\",\"RowHeaders\",\"RowNumLabel\",\"Data\",\"RowNameMap\",\"RowInfo\",\"ScatterplotGraph\",\"_this8\",\"lsFit\",\"minmaxx\",\"updateScatterplot\",\"data\",\"means\",\"jStat\",\"mean\",\"xmean\",\"ymean\",\"interim\",\"numerator\",\"denominator\",\"slope\",\"xi\",\"yi\",\"arr\",\"min\",\"max\",\"xaxis\",\"yaxis\",\"grouping\",\"points\",\"field1\",\"field2\",\"grouped_points\",\"group_label\",\"minmax\",\"LS\",\"start\",\"plots\",\"label\",\"plotY\",\"x\",\"dataset\",\"show\",\"lines\",\"color\",\"options\",\"map\",\"console\",\"scatterStyle\",\"width\",\"height\",\"onChange\",\"style\",\"StatsVisualizationTabPane\",\"_this9\",\"displayed\",\"content\",\"stats\",\"stddev\",\"stdev\",\"meandev\",\"meansqerr\",\"quartiles\",\"rows\",\"concat\",\"statsTable\",\"SaveQueryDialog\",\"_this10\",\"queryName\",\"shared\",\"editName\",\"editPublic\",\"onSaveClicked\",\"onDismissClicked\",\"setState\",\"checked\",\"aria-label\",\"aria-hidden\",\"placeholder\",\"ManageSavedQueryFilter\",\"_this11\",\"filterItem\",\"activeOperator\",\"logicOp\",\"instrument\",\"field\",\"Field\",\"Operator\",\"Value\",\"ManageSavedQueryRow\",\"_this12\",\"fields\",\"filters\",\"Query\",\"Conditions\",\"Name\",\"ManageSavedQueriesTabPane\",\"_this13\",\"savePrompt\",\"queriesLoaded\",\"queries\",\"dismissDialog\",\"saveQuery\",\"savedQuery\",\"onSaveQuery\",\"queryRows\",\"userQueries\",\"query\",\"queryDetails\",\"colSpan\",\"globalQueries\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 56);\\n\",\"module.exports = React;\",\"/**\\n * Copyright (c) 2013-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\nif (process.env.NODE_ENV !== 'production') {\\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\\n    Symbol.for &&\\n    Symbol.for('react.element')) ||\\n    0xeac7;\\n\\n  var isValidElement = function(object) {\\n    return typeof object === 'object' &&\\n      object !== null &&\\n      object.$$typeof === REACT_ELEMENT_TYPE;\\n  };\\n\\n  // By explicitly using `prop-types` you are opting into new development behavior.\\n  // http://fb.me/prop-types-in-prod\\n  var throwOnDirectAccess = true;\\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\\n} else {\\n  // By explicitly using `prop-types` you are opting into new production behavior.\\n  // http://fb.me/prop-types-in-prod\\n  module.exports = require('./factoryWithThrowingShims')();\\n}\\n\",\"/**\\n * Copyright (c) 2013-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\n'use strict';\\n\\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\\n\\nfunction emptyFunction() {}\\n\\nmodule.exports = function() {\\n  function shim(props, propName, componentName, location, propFullName, secret) {\\n    if (secret === ReactPropTypesSecret) {\\n      // It is still safe when called from React.\\n      return;\\n    }\\n    var err = new Error(\\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\\n      'Use PropTypes.checkPropTypes() to call them. ' +\\n      'Read more at http://fb.me/use-check-prop-types'\\n    );\\n    err.name = 'Invariant Violation';\\n    throw err;\\n  };\\n  shim.isRequired = shim;\\n  function getShim() {\\n    return shim;\\n  };\\n  // Important!\\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\\n  var ReactPropTypes = {\\n    array: shim,\\n    bool: shim,\\n    func: shim,\\n    number: shim,\\n    object: shim,\\n    string: shim,\\n    symbol: shim,\\n\\n    any: shim,\\n    arrayOf: getShim,\\n    element: shim,\\n    instanceOf: getShim,\\n    node: shim,\\n    objectOf: getShim,\\n    oneOf: getShim,\\n    oneOfType: getShim,\\n    shape: getShim,\\n    exact: getShim\\n  };\\n\\n  ReactPropTypes.checkPropTypes = emptyFunction;\\n  ReactPropTypes.PropTypes = ReactPropTypes;\\n\\n  return ReactPropTypes;\\n};\\n\",\"/**\\n * Copyright (c) 2013-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\n'use strict';\\n\\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\\n\\nmodule.exports = ReactPropTypesSecret;\\n\",\"/**\\n *  The following file contains the components used for displaying the tab content\\n *\\n *  @author   Dave MacFarlane <david.macfarlane2@mcgill.ca>\\n *  @author   Jordan Stirling <jstirling91@gmail.com>\\n *  @license  http://www.gnu.org/licenses/gpl-3.0.txt GPLv3\\n *  @link     https://github.com/mohadesz/Loris-Trunk\\n */\\n\\nimport React, {Component} from 'react';\\nimport PropTypes from 'prop-types';\\n\\n/*\\n *  The following componet is used to indicate to users that their data is currently\\n *  loading\\n */\\nclass Loading extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n\\n  }\\n\\n  render() {\\n    return (\\n      <div className='row'>\\n        <h3 className='text-center loading-header'>\\n          We are currently working hard to load your data. Please be patient.\\n        </h3>\\n        <div className='spinner'>\\n          <div className='bounce1'></div>\\n          <div className='bounce2'></div>\\n          <div className='bounce3'></div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is the base component for displaying the tab's contnet\\n */\\nclass TabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    let classList = 'tab-pane';\\n    if (this.props.Active) {\\n      classList += ' active'\\n    }\\n    if (this.props.Loading) {\\n      return (\\n        <div className={classList} id={this.props.TabId}>\\n          <Loading/>\\n        </div>\\n      );\\n    }\\n    return (\\n      <div key={this.props.TabId}className={classList} id={this.props.TabId}>\\n        <h1>{this.props.Title}</h1>\\n        {this.props.children}\\n      </div>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the info tab content\\n */\\nclass InfoTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    return (\\n      <TabPane\\n        Title='Welcome to the Data Query Tool'\\n        TabId={this.props.TabId}\\n        Active={this.props.Active}\\n        Loading={this.props.Loading}\\n      >\\n        <p>Data was last updated on {this.props.UpdatedTime}.</p>\\n        <p>Please define or use your query by using the following tabs.</p>\\n        <dl>\\n          <dt>Define Fields</dt>\\n          <dd>Define the fields to be added to your query here.</dd>\\n          <dt>Define Filters</dt>\\n          <dd>Define the criteria to filter the data for your query here.</dd>\\n          <dt>View Data</dt>\\n          <dd>See the results of your query.</dd>\\n          <dt>Statistical Analysis</dt>\\n          <dd>Visualize or see basic statistical measures from your query here.</dd>\\n          <dt>Load Saved Query</dt>\\n          <dd>Load a previously saved query (by name) by selecting from this menu.</dd>\\n          <dt>Manage Saved Queries</dt>\\n          <dd>Either save your current query or see the criteria of previously saved quer ies here.</dd>\\n        </dl>\\n      </TabPane>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the field select tab content\\n */\\nclass FieldSelectTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    return (\\n      <TabPane\\n        TabId={this.props.TabId}\\n        Loading={this.props.Loading}\\n        Active={this.props.Active}\\n      >\\n        <FieldSelector\\n          title='Fields'\\n          items={this.props.categories}\\n          onFieldChange={this.props.onFieldChange}\\n          selectedFields={this.props.selectedFields}\\n          Visits={this.props.Visits}\\n          fieldVisitSelect={this.props.fieldVisitSelect}\\n        />\\n      </TabPane>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the filter builder tab content\\n */\\nclass FilterSelectTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    return (\\n      <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\\n        <FilterBuilder items={this.props.categories}\\n                       updateFilter={this.props.updateFilter}\\n                       filter={this.props.filter}\\n                       Visits={this.props.Visits}\\n                       Active={this.props.Active}\\n        />\\n      </TabPane>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the view data tab content\\n */\\nclass ViewDataTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      sessions: []\\n    };\\n    this.runQuery = this.runQuery.bind(this);\\n    this.changeDataDisplay = this.changeDataDisplay.bind(this);\\n    this.getOrCreateProgressElement = this.getOrCreateProgressElement.bind(this);\\n    this.getOrCreateDownloadLink = this.getOrCreateDownloadLink.bind(this);\\n    this.downloadData = this.downloadData.bind(this);\\n  }\\n\\n  runQuery() {\\n    this.props.runQuery(this.props.Fields, this.props.Sessions);\\n  }\\n\\n  changeDataDisplay(displayID) {\\n    // Wrapper function to change the data display type\\n    this.props.changeDataDisplay(displayID);\\n  }\\n\\n  getOrCreateProgressElement(id) {\\n    // Helper function to display the progress of downloading the downloadable\\n    // fields into a ZIP folder\\n    let element = document.getElementById(id),\\n      progress;\\n\\n    if (element) {\\n      return element;\\n    }\\n\\n    progress = document.getElementById('progress');\\n\\n    element = document.createElement('div');\\n    element.setAttribute('id', id);\\n    progress.appendChild(element);\\n    return element;\\n  }\\n\\n  getOrCreateDownloadLink(fileName, type) {\\n    // Helper function to create and click a downloadable link to download the\\n    // downloadable fields into a ZIP folder\\n    let element = document.getElementById('DownloadLink' + fileName),\\n      parentEl,\\n      el2;\\n\\n    if (element) {\\n      return element;\\n    }\\n\\n\\n    parentEl = document.getElementById('downloadlinksUL');\\n\\n    element = document.createElement('a');\\n    element.download = fileName;\\n    element.type = type;\\n    element.textContent = 'Zip file: ' + fileName;\\n    element.setAttribute('id', 'DownloadLink' + fileName);\\n    el2 = document.createElement('li');\\n    el2.appendChild(element);\\n    parentEl.appendChild(el2);\\n    return element;\\n  }\\n\\n  downloadData() {\\n    // Download the downloadable fields into a ZIP folder\\n    // Makes use of a web worker to format and download the data\\n    let zip = new JSZip(),\\n      i = 0,\\n      FileList = this.props.FileData,\\n      CompleteMask = new Array(FileList.length),\\n      saveworker,\\n      dataURLs = [],\\n      multiLinkHandler = (buffer) => {\\n        return ((ce) => {\\n          let downloadLink = document.getElementById('DownloadLink'),\\n            dv = new DataView(buffer),\\n            blb;\\n\\n          ce.preventDefault();\\n          blb = new Blob([dv], {type: 'application/zip'});\\n\\n          downloadLink.href = window.URL.createObjectURL(blb);\\n          downloadLink.download = this.download;\\n          downloadLink.type = 'application/zip';\\n          downloadLink.click();\\n\\n          window.URL.revokeObjectURL(downloadLink.href);\\n        });\\n      };\\n\\n    // Does this work if we hold a global reference instead of a closure\\n    // to the object URL?\\n    window.dataBlobs = [];\\n\\n    if (FileList.length < 100 || confirm('You are trying to download more than 100 files. This may be slow or crash your web browser.\\\\n\\\\nYou may want to consider splitting your query into more, smaller queries by defining more restrictive filters.\\\\n\\\\nPress OK to continue with attempting to download current files or cancel to abort.')) {\\n      saveworker = new Worker(loris.BaseURL + '/dataquery/js/workers/savezip.js');\\n      saveworker.addEventListener('message', (e) => {\\n        let link,\\n          progress,\\n          FileName,\\n          NewFileName,\\n          downloadLinks,\\n          i;\\n        if (e.data.cmd === 'SaveFile') {\\n          progress = this.getOrCreateProgressElement('download_progress');\\n          //progress.textContent = \\\"Downloaded files\\\";\\n          //hold a reference to the blob so that chrome doesn't release it. This shouldn't\\n          //be required.\\n          window.dataBlobs[e.data.FileNo - 1] = new Blob([e.data.buffer], {type: 'application/zip'});\\n          ;\\n          dataURLs[e.data.FileNo - 1] = window.URL.createObjectURL(window.dataBlobs[e.data.FileNo - 1]);\\n\\n          link = this.getOrCreateDownloadLink(e.data.Filename, 'application/zip');\\n          link.href = dataURLs[e.data.FileNo - 1];\\n          //link.onclick = multiLinkHandler(e.data.buffer);\\n          //link.href = \\\"#\\\";\\n          progress = this.getOrCreateProgressElement('zip_progress');\\n          progress.textContent = '';\\n\\n        } else if (e.data.cmd === 'Progress') {\\n          progress = this.getOrCreateProgressElement('download_progress');\\n          progress.innerHTML = 'Downloading files: <progress value=\\\"' + e.data.Complete + '\\\" max=\\\"' + e.data.Total + '\\\">' + e.data.Complete + ' out of ' + e.data.Total + '</progress>';\\n        } else if (e.data.cmd === 'Finished') {\\n          if (dataURLs.length === 1) {\\n            $('#downloadlinksUL li a')[0].click();\\n          }\\n\\n          if (dataURLs.length > 1) {\\n            progress = document.getElementById('downloadlinks');\\n            progress.style.display = 'initial';\\n\\n            downloadLinks = $('#downloadlinksUL li a');\\n            for (i = 0; i < dataURLs.length; i += 1) {\\n              FileName = downloadLinks[i].id.slice('DownloadLinkFiles-'.length, -4);\\n              NewFileName = 'files-' + FileName + 'of' + e.data.NumFiles + '.zip';\\n              downloadLinks[i].download = NewFileName;\\n              downloadLinks[i].href = dataURLs[i];\\n              downloadLinks[i].textContent = 'Zip file: ' + NewFileName;\\n            }\\n          }\\n          progress = this.getOrCreateProgressElement('download_progress');\\n          progress.textContent = 'Finished generating zip files';\\n          //this.terminate();\\n\\n        } else if (e.data.cmd === 'CreatingZip') {\\n          progress = this.getOrCreateProgressElement('zip_progress');\\n          progress.textContent = 'Creating a zip file with current batch of downloaded files. Process may be slow before proceeding.';\\n        }\\n\\n      });\\n\\n      saveworker.postMessage({Files: FileList, BaseURL: loris.BaseURL});\\n    }\\n  }\\n\\n  render() {\\n    let downloadData;\\n    let buttons = (\\n      <div className='row'>\\n        <div className='commands col-xs-12 form-group'>\\n          <button className='btn btn-primary' onClick={this.runQuery}>Run Query</button>\\n          <button className='btn btn-primary' onClick={this.downloadData}>Download Data as ZIP</button>\\n        </div>\\n        <div id='progress' className='col-xs-12'></div>\\n        <div id='downloadlinks' className='col-xs-12'>\\n          <ul id='downloadlinksUL'></ul>\\n        </div>\\n      </div>\\n    );\\n    let criteria = [];\\n    for (let el in  this.props.Criteria) {\\n      if (!this.props.Criteria.hasOwnProperty(el)) {\\n        continue;\\n      }\\n      let item = this.props.Criteria[el];\\n      if (item === undefined) {\\n        criteria.push(\\n          <div className='alert alert-warning' role='alert'>\\n            {el} has been added as a filter but not had criteria defined.\\n          </div>\\n        );\\n      } else {\\n        criteria.push(\\n          <div className='row'>\\n            <span className='col-sm-3'>{el}</span>\\n            <span className='col-sm-3'>{item.operator}</span>\\n            <span className='col-sm-3'>{item.value}</span>\\n          </div>\\n        );\\n      }\\n\\n    }\\n    return (\\n      <TabPane\\n        TabId={this.props.TabId}\\n        Loading={this.props.Loading}\\n        Active={this.props.Active}\\n      >\\n        <h2>Query Criteria</h2>\\n        {criteria}\\n        {buttons}\\n        <div className='form-group form-horizontal row'>\\n          <label htmlFor='selected-input' className='col-sm-1 control-label'>Data</label>\\n          <div className='col-sm-4'>\\n            <div className='btn-group'>\\n              <button id='selected-input' type='button' className='btn btn-default dropdown-toggle' data-toggle='dropdown'>\\n                <span id='search_concept'>{this.props.displayType}</span>\\n                <span className='caret'></span>\\n              </button>\\n              <ul className='dropdown-menu' role='menu'>\\n                <li onClick={this.changeDataDisplay.bind(this, 0)}>\\n                  <div className='col-sm-12'>\\n                    <h5 className=\\\"\\\">Cross-sectional</h5>\\n                  </div>\\n                </li>\\n                <li onClick={this.changeDataDisplay.bind(this, 1)}>\\n                  <div className='col-sm-12'>\\n                    <h5 className=''>Longitudinal</h5>\\n                  </div>\\n                </li>\\n              </ul>\\n            </div>\\n          </div>\\n        </div>\\n        <StaticDataTable\\n          Headers={this.props.RowHeaders}\\n          RowNumLabel='Identifiers'\\n          Data={this.props.Data}\\n          RowNameMap={this.props.RowInfo}\\n        />\\n      </TabPane>\\n    );\\n  }\\n}\\nViewDataTabPane.propTypes = {\\n  runQuery: PropTypes.func.isRequired,\\n};\\n\\n/*\\n *  The following component is used for displaying the scatterplot graph\\n *  in the stats tab using flot. The following code is a modification of\\n *  code used in the couchApp implementation of the DQT\\n */\\nclass ScatterplotGraph extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n    this.lsFit = this.lsFit.bind(this);\\n    this.minmaxx = this.minmaxx.bind(this);\\n    this.updateScatterplot = this.updateScatterplot.bind(this);\\n  }\\n\\n  lsFit(data) {\\n    let i = 0,\\n      means = jStat(data).mean(),\\n      xmean = means[0],\\n      ymean = means[1],\\n      interim = 0,\\n      numerator = 0,\\n      denominator = 0,\\n      slope,\\n      xi,\\n      yi;\\n\\n    for (i = 0; i < data.length; i += 1) {\\n      xi = data[i][0];\\n      yi = data[i][1];\\n      numerator += (xi - xmean) * (yi - ymean);\\n      denominator += ((xi - xmean) * (xi - xmean));\\n    }\\n\\n    slope = numerator / denominator;\\n\\n    return [(ymean - slope * xmean), slope];\\n  }\\n\\n  minmaxx(arr) {\\n    let i, min, max;\\n\\n    for (i = 0; i < arr.length; i += 1) {\\n      if (arr[i][0] < min || min === undefined) {\\n        if (arr[i][0] !== undefined && arr[i][0] !== null) {\\n          min = arr[i][0];\\n        }\\n      }\\n      if (arr[i][0] > max || max === undefined) {\\n        if (arr[i][0] !== undefined && arr[i][0] !== null) {\\n          max = arr[i][0];\\n        }\\n      }\\n    }\\n    return [min, max];\\n  }\\n\\n  updateScatterplot() {\\n    let xaxis = document.getElementById('scatter-xaxis').value,\\n      yaxis = document.getElementById('scatter-yaxis').value,\\n      grouping = document.getElementById('scatter-group').value,\\n      data = this.props.Data,\\n      points = [],\\n      min,\\n      max,\\n      field1 = [],\\n      field2 = [],\\n      grouped_points = {},\\n      i = 0,\\n      group_label,\\n      minmax,\\n      LS,\\n      slope,\\n      start,\\n      plots = [],\\n      label,\\n      plotY = (x) => {\\n        return [x, start + (slope * x)];\\n      },\\n      dataset;\\n\\n    for (i = 0; i < data.length; i += 1) {\\n      points.push([data[i][xaxis], data[i][yaxis]]);\\n      field1.push(data[i][xaxis]);\\n      field2.push(data[i][yaxis]);\\n      if (grouping) {\\n        group_label = data[i][grouping];\\n        if (!(grouped_points[group_label] instanceof Array)) {\\n          grouped_points[group_label] = [];\\n        }\\n        grouped_points[group_label].push([data[i][xaxis], data[i][yaxis]]);\\n      }\\n    }\\n\\n    if (grouping === 'ungrouped') {\\n      minmax = this.minmaxx(points);\\n      min = minmax[0];\\n      max = minmax[1];\\n      LS = this.lsFit(points);\\n      slope = LS[1];\\n      start = LS[0];\\n\\n      $.plot('#scatterplotdiv', [{\\n\\n        label: 'Data Points',\\n        data: points,\\n        points: {show: true}\\n      }, // Least Squares Fit\\n        {\\n          label: 'Least Squares Fit',\\n          data: jStat.seq(min, max, 3, plotY),\\n          lines: {show: true}\\n        }], {});\\n    } else {\\n      minmax = this.minmaxx(points);\\n      min = minmax[0];\\n      max = minmax[1];\\n      i = 0;\\n\\n      for (dataset in grouped_points) {\\n        if (grouped_points.hasOwnProperty(dataset)) {\\n          label = document.getElementById(\\\"scatter-group\\\").selectedOptions.item(0).textContent + \\\" = \\\" + dataset;\\n          plots.push({\\n            color: i,\\n            label: dataset,\\n            data: grouped_points[dataset],\\n            points: {show: true}\\n          });\\n          LS = this.lsFit(grouped_points[dataset]);\\n          //LS = lsFit(grouped_points[dataset].convertNumbers());\\n          slope = LS[1];\\n          start = LS[0];\\n          plots.push({\\n            color: i,\\n            // label: \\\"LS Fit for \\\" + dataset,\\n            data: jStat.seq(min, max, 3, plotY),\\n            lines: {show: true}\\n          });\\n          i += 1;\\n        }\\n      }\\n      $.plot('#scatterplotdiv', plots, {});\\n    }\\n\\n    $('#correlationtbl tbody').children().remove();\\n    $('#correlationtbl tbody').append('<tr><td>' + jStat.covariance(field1, field2) + '</td><td>' + jStat.corrcoeff(field1, field2) + '</td></tr>');\\n  }\\n\\n  render() {\\n    let options = this.props.Fields.map((element, key) => {\\n        console.log(element);\\n        return (\\n          <option value={key}>\\n            {element}\\n          </option>\\n        );\\n      }),\\n      scatterStyle = {\\n        width: '500px',\\n        height: '500px'\\n      };\\n    return (\\n      <div>\\n        <h2>Scatterplot</h2>\\n\\n        <div className='col-xs-4 col-md-3'>\\n          Column for X Axis\\n        </div>\\n        <div className='col-xs-8 col-md-3'>\\n          <select id='scatter-xaxis' onChange={this.updateScatterplot}>\\n            <option>None</option>\\n            {options}\\n          </select>\\n        </div>\\n\\n        <div className='col-xs-4 col-md-3'>\\n          Column for Y Axis\\n        </div>\\n        <div className='col-xs-8 col-md-3'>\\n          <select id='scatter-yaxis' onChange={this.updateScatterplot}>\\n            <option>None</option>\\n            {options}\\n          </select>\\n        </div>\\n\\n        <div className='col-xs-4 col-md-3'>\\n          Group by column\\n        </div>\\n        <div className='col-xs-8 col-md-3'>\\n          <select id='scatter-group' onChange={this.updateScatterplot}>\\n            <option>None</option>\\n            {options}\\n          </select>\\n        </div>\\n        <h3>Scatterplot</h3>\\n        <div id='scatterplotdiv' style={scatterStyle}></div>\\n        <h3>Statistics</h3>\\n        <table id='correlationtbl'>\\n          <thead>\\n          <tr>\\n            <th>Covariance</th>\\n            <th>Correlation Coefficient</th>\\n          </tr>\\n          </thead>\\n          <tbody>\\n          </tbody>\\n        </table>\\n      </div>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the stats tab content\\n */\\nclass StatsVisualizationTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      displayed: false\\n    };\\n  }\\n\\n  render() {\\n    let content = (\\n      <div>Statistics not yet calculated.</div>\\n    );\\n    // if(this.state.displayed === false) {\\n    //     var content = <div>Statistics not yet calculated.</div>;\\n    //     // return <TabPane content={content} TabId={this.props.TabId} />;\\n    // } else\\n    if (this.props.Data.length === 0) {\\n      let content = <div>Could not calculate stats, query not run</div>;\\n      // return <TabPane content={content} TabId={this.props.TabId} />;\\n    } else {\\n      let stats = jStat(this.props.Data),\\n        min = stats.min(),\\n        max = stats.max(),\\n        stddev = stats.stdev(),\\n        mean = stats.mean(),\\n        meandev = stats.meandev(),\\n        meansqerr = stats.meansqerr(),\\n        quartiles = stats.quartiles(),\\n        rows = [];\\n\\n\\n      for (let i = 0; i < this.props.Fields.length; i += 1) {\\n        rows.push(<tr key={'fields_'.concat(i)}>\\n          <td>{this.props.Fields[i]}</td>\\n          <td>{min[i]}</td>\\n          <td>{max[i]}</td>\\n          <td>{stddev[i]}</td>\\n          <td>{mean[i]}</td>\\n          <td>{meandev[i]}</td>\\n          <td>{meansqerr[i]}</td>\\n          <td>{quartiles[i][0]}</td>\\n          <td>{quartiles[i][1]}</td>\\n          <td>{quartiles[i][2]}</td>\\n        </tr>);\\n      }\\n\\n      let statsTable = (\\n        <table className='table table-hover table-primary table-bordered colm-freeze'>\\n          <thead>\\n          <tr className='info'>\\n            <th>Measure</th>\\n            <th>Min</th>\\n            <th>Max</th>\\n            <th>Standard Deviation</th>\\n            <th>Mean</th>\\n            <th>Mean Deviation</th>\\n            <th>Mean Squared Error</th>\\n            <th>First Quartile</th>\\n            <th>Second Quartile</th>\\n            <th>Third Quartile</th>\\n          </tr>\\n          </thead>\\n          <tbody>\\n          {rows}\\n          </tbody>\\n        </table>\\n      );\\n\\n      content = (\\n        <div>\\n          <h2>Basic Statistics</h2>\\n          {statsTable}\\n\\n          <ScatterplotGraph\\n            Fields={this.props.Fields}\\n            Data={this.props.Data}\\n          />\\n        </div>\\n      );\\n    }\\n    return (\\n      <TabPane TabId={this.props.TabId} Loading={this.props.Loading} Active={this.props.Active}>\\n        {content}\\n      </TabPane>\\n    );\\n  }\\n}\\nStatsVisualizationTabPane.propTypes = {\\n  Data: PropTypes.array,\\n};\\nStatsVisualizationTabPane.defaultProps = {\\n  Data: []\\n};\\n\\n/*\\n *  The following component is used for displaying a popout dialog for saving the current\\n *  query\\n */\\nclass SaveQueryDialog extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      queryName: '',\\n      shared: false\\n    };\\n    this.editName = this.editName.bind(this);\\n    this.editPublic = this.editPublic.bind(this);\\n    this.onSaveClicked = this.onSaveClicked.bind(this);\\n    this.onDismissClicked = this.onDismissClicked.bind(this);\\n  }\\n\\n  editName(e) {\\n    this.setState({queryName: e.target.value});\\n  }\\n\\n  editPublic(e) {\\n    this.setState({shared: e.target.checked});\\n  }\\n\\n  onSaveClicked() {\\n    // Should do validation before doing anything here.. ie query name is entered, doesn't already\\n    // exist, there are fields selected..\\n    if (this.props.onSaveClicked) {\\n      this.props.onSaveClicked(this.state.queryName, this.state.shared);\\n    }\\n  }\\n\\n  onDismissClicked() {\\n    if (this.props.onDismissClicked) {\\n      this.props.onDismissClicked();\\n    }\\n  }\\n\\n  render() {\\n    return (\\n      <div className='modal show'>\\n        <div className='modal-dialog'>\\n          <div className='modal-content'>\\n            <div className='modal-header'>\\n              <button type='button' className='close' aria-label='Close' onClick={this.onDismissClicked}><span aria-hidden='true'>&times;</span></button>\\n              <h4 className='modal-title' id='myModalLabel'>Save Current Query</h4>\\n            </div>\\n            <div className='modal-body'>\\n              <p>Enter the name you would like to save your query under here:</p>\\n              <div className='input-group'>\\n                Query Name: <input type='text' className='form-control' placeholder='My Query' value={this.state.queryName} onChange={this.editName}/>\\n              </div>\\n              <p>Make query a publicly shared query? <input type='checkbox' checked={this.state.shared ? 'checked' : ''} onChange={this.editPublic} aria-label='Shared Query'/></p>\\n\\n            </div>\\n            <div className='modal-footer'>\\n              <button type='button' className='btn btn-default' onClick={this.onDismissClicked}>Close</button>\\n              <button type='button' className='btn btn-primary' onClick={this.onSaveClicked}>Save changes</button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the filter of a individual query in a tree\\n *  like structure\\n */\\nclass ManageSavedQueryFilter extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    let filterItem,\\n      filter = this.props.filterItem;\\n    if (filter.activeOperator) {\\n      let logicOp = 'AND',\\n        children = filter.children.map((element, key) => {\\n          return <ManageSavedQueryFilter\\n            filterItem={element}\\n          />\\n        });\\n      if (filter.activeOperator === 1) {\\n        logicOp = 'OR'\\n      }\\n      return (\\n        <li>\\n          <span>{logicOp}</span>\\n          <ul className='savedQueryTree'>\\n            {children}\\n          </ul>\\n        </li>\\n      )\\n    } else {\\n      filter = this.props.filterItem;\\n      if (filter.instrument) {\\n        let operator;\\n        switch (filter.operator) {\\n          case 'equal':\\n            operator = '=';\\n            break;\\n          case 'notEqual':\\n            operator = '!=';\\n            break;\\n          case 'lessThanEqual':\\n            operator = '<=';\\n            break;\\n          case 'greaterThanEqual':\\n            operator = '>=';\\n            break;\\n          default:\\n            operator = filter.operator;\\n            break;\\n        }\\n        filterItem = (\\n          <span>{filter.instrument},{filter.field} {operator} {filter.value}</span>\\n        )\\n      } else {\\n        filterItem = (\\n          <span>{filter.Field} {filter.Operator} {filter.Value}</span>\\n        )\\n      }\\n    }\\n    return (\\n      <li>{filterItem}</li>\\n    );\\n  }\\n}\\n\\n/*\\n *  The following component is used for displaying the individual saved queries in the\\n *  manage saved queries tab\\n */\\nclass ManageSavedQueryRow extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {};\\n  }\\n\\n  render() {\\n    let fields = [];\\n    let filters;\\n    if (this.props.Query.Fields && Array.isArray(this.props.Query.Fields)) {\\n      for (let i = 0; i < this.props.Query.Fields.length; i += 1) {\\n        fields.push(<li>{this.props.Query.Fields[i]}</li>);\\n      }\\n    } else if (this.props.Query.Fields) {\\n      for (let instrument in this.props.Query.Fields) {\\n        for (let field in this.props.Query.Fields[instrument]) {\\n          if (field === \\\"allVisits\\\") {\\n            continue;\\n          } else {\\n            fields.push(<li>{instrument},{field}</li>);\\n          }\\n        }\\n      }\\n    }\\n\\n    if (fields.length === 0) {\\n      fields.push(<li>No fields defined</li>);\\n    }\\n\\n    if (this.props.Query.Conditions) {\\n      let operator,\\n        filter;\\n      if (this.props.Query.Conditions.activeOperator) {\\n        if (this.props.Query.Conditions.children) {\\n          if (this.props.Query.Conditions.activeOperator === 0) {\\n            operator = (<span>AND</span>)\\n          } else {\\n            operator = (<span>OR</span>)\\n          }\\n          filter = this.props.Query.Conditions.children.map((element, key) => {\\n            return (\\n              <ManageSavedQueryFilter\\n                key={key}\\n                filterItem={element}\\n              />\\n            );\\n          });\\n        } else {\\n          operator = (<span>No filters defined</span>);\\n        }\\n      } else {\\n        if (this.props.Query.Conditions.length === 0) {\\n          operator = (<span>No filters defined</span>);\\n        } else {\\n          operator = (<span>AND</span>);\\n          filter = this.props.Query.Conditions.map((element, key) => {\\n            return (\\n              <ManageSavedQueryFilter\\n                key={key}\\n                filterItem={element}\\n              />\\n            );\\n          });\\n        }\\n      }\\n      filters = (\\n        <div className='tree'>\\n          <ul className='firstUL savedQueryTree'>\\n            <li>\\n              {operator}\\n              <ul className='savedQueryTree'>\\n                {filter}\\n              </ul>\\n            </li>\\n          </ul>\\n        </div>\\n      );\\n    }\\n    if (!filters) {\\n      filters = (<strong>No filters defined</strong>);\\n    }\\n    return (\\n      <tr>\\n        <td>{this.props.Name}</td>\\n        <td>\\n          <ul>{fields}</ul>\\n        </td>\\n        <td>{filters}</td>\\n      </tr>\\n    );\\n  }\\n}\\nManageSavedQueryRow.propTypes = {\\n  Name: PropTypes.string,\\n  Query: PropTypes.object,\\n};\\nManageSavedQueryRow.defaultProps = {\\n  Name: 'Unknown',\\n  Query: {\\n    Fields: []\\n  },\\n};\\n\\n/*\\n *  The following component is used for displaying the manage saved queries tab content\\n */\\nclass ManageSavedQueriesTabPane extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      savePrompt: false,\\n      queriesLoaded: false,\\n      queries: {}\\n    };\\n    this.dismissDialog = this.dismissDialog.bind(this);\\n    this.saveQuery = this.saveQuery.bind(this);\\n    this.savedQuery = this.savedQuery.bind(this);\\n  }\\n\\n  dismissDialog() {\\n    this.setState({savePrompt: false});\\n  }\\n\\n  saveQuery() {\\n    this.setState({savePrompt: true});\\n  }\\n\\n  savedQuery(name, shared) {\\n    if (this.props.onSaveQuery) {\\n      this.props.onSaveQuery(name, shared, 'false');\\n    }\\n    this.setState({savePrompt: false});\\n  }\\n\\n  render() {\\n    let queryRows = [];\\n    if (this.props.queriesLoaded) {\\n      for (let i = 0; i < this.props.userQueries.length; i += 1) {\\n        let query = this.props.queryDetails[this.props.userQueries[i]];\\n        let name = 'Unnamed Query: ' + this.props.userQueries[i];\\n        if (query.Meta.name) {\\n          name = query.Meta.name;\\n        }\\n        queryRows.push(\\n          <ManageSavedQueryRow Name={name} Query={query}/>\\n        );\\n      }\\n    } else {\\n      queryRows.push(\\n        <tr key='loading'>\\n          <td colSpan=\\\"3\\\">Loading saved query details</td>\\n        </tr>\\n      );\\n    }\\n\\n    let savePrompt = '';\\n    if (this.state.savePrompt) {\\n      savePrompt = <SaveQueryDialog onDismissClicked={this.dismissDialog} onSaveClicked={this.savedQuery}/>;\\n\\n    }\\n    let content = (\\n      <div>\\n        <h2>Your currently saved queries</h2>\\n        <button onClick={this.saveQuery}>Save Current Query</button>\\n        <table className='table table-hover table-primary table-bordered colm-freeze'>\\n          <thead>\\n          <tr key='info' className='info'>\\n            <th>Query Name</th>\\n            <th>Fields</th>\\n            <th>Filters</th>\\n          </tr>\\n          </thead>\\n          <tbody>\\n          {queryRows}\\n          </tbody>\\n        </table>\\n        {savePrompt}\\n      </div>\\n    );\\n    return (\\n      <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\\n        {content}\\n      </TabPane>\\n    );\\n  }\\n}\\nManageSavedQueriesTabPane.propTypes = {\\n  userQueries: PropTypes.array,\\n  globalQueries: PropTypes.array,\\n  queriesLoaded: PropTypes.bool,\\n  queryDetails: PropTypes.object,\\n};\\nManageSavedQueriesTabPane.defaultProps = {\\n  userQueries: [],\\n  globalQueries: [],\\n  queriesLoaded: false,\\n  queryDetails: {}\\n};\\n\\nwindow.Loading = Loading;\\nwindow.TabPane = TabPane;\\nwindow.InfoTabPane = InfoTabPane;\\nwindow.FieldSelectTabPane = FieldSelectTabPane;\\nwindow.FilterSelectTabPane = FilterSelectTabPane;\\nwindow.ViewDataTabPane = ViewDataTabPane;\\nwindow.ScatterplotGraph = ScatterplotGraph;\\nwindow.StatsVisualizationTabPane = StatsVisualizationTabPane;\\nwindow.SaveQueryDialog = SaveQueryDialog;\\nwindow.ManageSavedQueryFilter = ManageSavedQueryFilter;\\nwindow.ManageSavedQueryRow = ManageSavedQueryRow;\\nwindow.ManageSavedQueriesTabPane = ManageSavedQueriesTabPane;\\n\\nexport default {\\n  Loading,\\n  TabPane,\\n  InfoTabPane,\\n  FieldSelectTabPane,\\n  FilterSelectTabPane,\\n  ViewDataTabPane,\\n  ScatterplotGraph,\\n  StatsVisualizationTabPane,\\n  SaveQueryDialog,\\n  ManageSavedQueryFilter,\\n  ManageSavedQueryRow,\\n  ManageSavedQueriesTabPane\\n};\\n\"]}","code":"(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"})}Object.defineProperty(exports,\"__esModule\",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value===\"object\"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,\"default\",{enumerable:true,value});if(mode&2&&typeof value!=\"string\")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module[\"default\"]}:function getModuleExports(){return module};__webpack_require__.d(getter,\"a\",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p=\"\";return __webpack_require__(__webpack_require__.s=56)})({0:function(module,exports){module.exports=React},1:function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,isValidElement,REACT_ELEMENT_TYPE}else{module.exports=__webpack_require__(2)()}},2:function(module,exports,__webpack_require__){\"use strict\";var ReactPropTypesSecret=__webpack_require__(3);function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. \"+\"Use PropTypes.checkPropTypes() to call them. \"+\"Read more at http://fb.me/use-check-prop-types\");err.name=\"Invariant Violation\";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};ReactPropTypes.checkPropTypes=emptyFunction;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},3:function(module,exports,__webpack_require__){\"use strict\";var ReactPropTypesSecret=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";module.exports=ReactPropTypesSecret},56:function(module,exports,__webpack_require__){\"use strict\";var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return call&&((typeof call===\"undefined\"?\"undefined\":_typeof(call))===\"object\"||typeof call===\"function\")?call:self}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+(typeof superClass===\"undefined\"?\"undefined\":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}\n/**\n   *  The following file contains the components used for displaying the tab content\n   *\n   *  @author   Dave MacFarlane <david.macfarlane2@mcgill.ca>\n   *  @author   Jordan Stirling <jstirling91@gmail.com>\n   *  @license  http://www.gnu.org/licenses/gpl-3.0.txt GPLv3\n   *  @link     https://github.com/mohadesz/Loris-Trunk\n   */var Loading=function(_Component){_inherits(Loading,_Component);function Loading(props){_classCallCheck(this,Loading);var _this=_possibleConstructorReturn(this,(Loading.__proto__||Object.getPrototypeOf(Loading)).call(this,props));_this.state={};return _this}_createClass(Loading,[{key:\"render\",value:function render(){return _react2.default.createElement(\"div\",{className:\"row\"},_react2.default.createElement(\"h3\",{className:\"text-center loading-header\"},\"We are currently working hard to load your data. Please be patient.\"),_react2.default.createElement(\"div\",{className:\"spinner\"},_react2.default.createElement(\"div\",{className:\"bounce1\"}),_react2.default.createElement(\"div\",{className:\"bounce2\"}),_react2.default.createElement(\"div\",{className:\"bounce3\"})))}}]);return Loading}(_react.Component);var TabPane=function(_Component2){_inherits(TabPane,_Component2);function TabPane(props){_classCallCheck(this,TabPane);var _this2=_possibleConstructorReturn(this,(TabPane.__proto__||Object.getPrototypeOf(TabPane)).call(this,props));_this2.state={};return _this2}_createClass(TabPane,[{key:\"render\",value:function render(){var classList=\"tab-pane\";if(this.props.Active){classList+=\" active\"}if(this.props.Loading){return _react2.default.createElement(\"div\",{className:classList,id:this.props.TabId},_react2.default.createElement(Loading,null))}return _react2.default.createElement(\"div\",{key:this.props.TabId,className:classList,id:this.props.TabId},_react2.default.createElement(\"h1\",null,this.props.Title),this.props.children)}}]);return TabPane}(_react.Component);var InfoTabPane=function(_Component3){_inherits(InfoTabPane,_Component3);function InfoTabPane(props){_classCallCheck(this,InfoTabPane);var _this3=_possibleConstructorReturn(this,(InfoTabPane.__proto__||Object.getPrototypeOf(InfoTabPane)).call(this,props));_this3.state={};return _this3}_createClass(InfoTabPane,[{key:\"render\",value:function render(){return _react2.default.createElement(TabPane,{Title:\"Welcome to the Data Query Tool\",TabId:this.props.TabId,Active:this.props.Active,Loading:this.props.Loading},_react2.default.createElement(\"p\",null,\"Data was last updated on \",this.props.UpdatedTime,\".\"),_react2.default.createElement(\"p\",null,\"Please define or use your query by using the following tabs.\"),_react2.default.createElement(\"dl\",null,_react2.default.createElement(\"dt\",null,\"Define Fields\"),_react2.default.createElement(\"dd\",null,\"Define the fields to be added to your query here.\"),_react2.default.createElement(\"dt\",null,\"Define Filters\"),_react2.default.createElement(\"dd\",null,\"Define the criteria to filter the data for your query here.\"),_react2.default.createElement(\"dt\",null,\"View Data\"),_react2.default.createElement(\"dd\",null,\"See the results of your query.\"),_react2.default.createElement(\"dt\",null,\"Statistical Analysis\"),_react2.default.createElement(\"dd\",null,\"Visualize or see basic statistical measures from your query here.\"),_react2.default.createElement(\"dt\",null,\"Load Saved Query\"),_react2.default.createElement(\"dd\",null,\"Load a previously saved query (by name) by selecting from this menu.\"),_react2.default.createElement(\"dt\",null,\"Manage Saved Queries\"),_react2.default.createElement(\"dd\",null,\"Either save your current query or see the criteria of previously saved quer ies here.\")))}}]);return InfoTabPane}(_react.Component);var FieldSelectTabPane=function(_Component4){_inherits(FieldSelectTabPane,_Component4);function FieldSelectTabPane(props){_classCallCheck(this,FieldSelectTabPane);var _this4=_possibleConstructorReturn(this,(FieldSelectTabPane.__proto__||Object.getPrototypeOf(FieldSelectTabPane)).call(this,props));_this4.state={};return _this4}_createClass(FieldSelectTabPane,[{key:\"render\",value:function render(){return _react2.default.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading,Active:this.props.Active},_react2.default.createElement(FieldSelector,{title:\"Fields\",items:this.props.categories,onFieldChange:this.props.onFieldChange,selectedFields:this.props.selectedFields,Visits:this.props.Visits,fieldVisitSelect:this.props.fieldVisitSelect}))}}]);return FieldSelectTabPane}(_react.Component);var FilterSelectTabPane=function(_Component5){_inherits(FilterSelectTabPane,_Component5);function FilterSelectTabPane(props){_classCallCheck(this,FilterSelectTabPane);var _this5=_possibleConstructorReturn(this,(FilterSelectTabPane.__proto__||Object.getPrototypeOf(FilterSelectTabPane)).call(this,props));_this5.state={};return _this5}_createClass(FilterSelectTabPane,[{key:\"render\",value:function render(){return _react2.default.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},_react2.default.createElement(FilterBuilder,{items:this.props.categories,updateFilter:this.props.updateFilter,filter:this.props.filter,Visits:this.props.Visits,Active:this.props.Active}))}}]);return FilterSelectTabPane}(_react.Component);var ViewDataTabPane=function(_Component6){_inherits(ViewDataTabPane,_Component6);function ViewDataTabPane(props){_classCallCheck(this,ViewDataTabPane);var _this6=_possibleConstructorReturn(this,(ViewDataTabPane.__proto__||Object.getPrototypeOf(ViewDataTabPane)).call(this,props));_this6.state={sessions:[]};_this6.runQuery=_this6.runQuery.bind(_this6);_this6.changeDataDisplay=_this6.changeDataDisplay.bind(_this6);_this6.getOrCreateProgressElement=_this6.getOrCreateProgressElement.bind(_this6);_this6.getOrCreateDownloadLink=_this6.getOrCreateDownloadLink.bind(_this6);_this6.downloadData=_this6.downloadData.bind(_this6);return _this6}_createClass(ViewDataTabPane,[{key:\"runQuery\",value:function runQuery(){this.props.runQuery(this.props.Fields,this.props.Sessions)}},{key:\"changeDataDisplay\",value:function changeDataDisplay(displayID){this.props.changeDataDisplay(displayID)}},{key:\"getOrCreateProgressElement\",value:function getOrCreateProgressElement(id){var element=document.getElementById(id),progress=void 0;if(element){return element}progress=document.getElementById(\"progress\");element=document.createElement(\"div\");element.setAttribute(\"id\",id);progress.appendChild(element);return element}},{key:\"getOrCreateDownloadLink\",value:function getOrCreateDownloadLink(fileName,type){var element=document.getElementById(\"DownloadLink\"+fileName),parentEl=void 0,el2=void 0;if(element){return element}parentEl=document.getElementById(\"downloadlinksUL\");element=document.createElement(\"a\");element.download=fileName;element.type=type;element.textContent=\"Zip file: \"+fileName;element.setAttribute(\"id\",\"DownloadLink\"+fileName);el2=document.createElement(\"li\");el2.appendChild(element);parentEl.appendChild(el2);return element}},{key:\"downloadData\",value:function downloadData(){var _this7=this;var zip=new JSZip,i=0,FileList=this.props.FileData,CompleteMask=new Array(FileList.length),saveworker=void 0,dataURLs=[],multiLinkHandler=function multiLinkHandler(buffer){return function(ce){var downloadLink=document.getElementById(\"DownloadLink\"),dv=new DataView(buffer),blb=void 0;ce.preventDefault();blb=new Blob([dv],{type:\"application/zip\"});downloadLink.href=window.URL.createObjectURL(blb);downloadLink.download=_this7.download;downloadLink.type=\"application/zip\";downloadLink.click();window.URL.revokeObjectURL(downloadLink.href)}};window.dataBlobs=[];if(FileList.length<100||confirm(\"You are trying to download more than 100 files. This may be slow or crash your web browser.\\n\\nYou may want to consider splitting your query into more, smaller queries by defining more restrictive filters.\\n\\nPress OK to continue with attempting to download current files or cancel to abort.\")){saveworker=new Worker(loris.BaseURL+\"/dataquery/js/workers/savezip.js\");saveworker.addEventListener(\"message\",function(e){var link=void 0,progress=void 0,FileName=void 0,NewFileName=void 0,downloadLinks=void 0,i=void 0;if(e.data.cmd===\"SaveFile\"){progress=_this7.getOrCreateProgressElement(\"download_progress\");window.dataBlobs[e.data.FileNo-1]=new Blob([e.data.buffer],{type:\"application/zip\"});dataURLs[e.data.FileNo-1]=window.URL.createObjectURL(window.dataBlobs[e.data.FileNo-1]);link=_this7.getOrCreateDownloadLink(e.data.Filename,\"application/zip\");link.href=dataURLs[e.data.FileNo-1];progress=_this7.getOrCreateProgressElement(\"zip_progress\");progress.textContent=\"\"}else if(e.data.cmd===\"Progress\"){progress=_this7.getOrCreateProgressElement(\"download_progress\");progress.innerHTML='Downloading files: <progress value=\"'+e.data.Complete+'\" max=\"'+e.data.Total+'\">'+e.data.Complete+\" out of \"+e.data.Total+\"</progress>\"}else if(e.data.cmd===\"Finished\"){if(dataURLs.length===1){$(\"#downloadlinksUL li a\")[0].click()}if(dataURLs.length>1){progress=document.getElementById(\"downloadlinks\");progress.style.display=\"initial\";downloadLinks=$(\"#downloadlinksUL li a\");for(i=0;i<dataURLs.length;i+=1){FileName=downloadLinks[i].id.slice(\"DownloadLinkFiles-\".length,-4);NewFileName=\"files-\"+FileName+\"of\"+e.data.NumFiles+\".zip\";downloadLinks[i].download=NewFileName;downloadLinks[i].href=dataURLs[i];downloadLinks[i].textContent=\"Zip file: \"+NewFileName}}progress=_this7.getOrCreateProgressElement(\"download_progress\");progress.textContent=\"Finished generating zip files\"}else if(e.data.cmd===\"CreatingZip\"){progress=_this7.getOrCreateProgressElement(\"zip_progress\");progress.textContent=\"Creating a zip file with current batch of downloaded files. Process may be slow before proceeding.\"}});saveworker.postMessage({Files:FileList,BaseURL:loris.BaseURL})}}},{key:\"render\",value:function render(){var downloadData=void 0;var buttons=_react2.default.createElement(\"div\",{className:\"row\"},_react2.default.createElement(\"div\",{className:\"commands col-xs-12 form-group\"},_react2.default.createElement(\"button\",{className:\"btn btn-primary\",onClick:this.runQuery},\"Run Query\"),_react2.default.createElement(\"button\",{className:\"btn btn-primary\",onClick:this.downloadData},\"Download Data as ZIP\")),_react2.default.createElement(\"div\",{id:\"progress\",className:\"col-xs-12\"}),_react2.default.createElement(\"div\",{id:\"downloadlinks\",className:\"col-xs-12\"},_react2.default.createElement(\"ul\",{id:\"downloadlinksUL\"})));var criteria=[];for(var el in this.props.Criteria){if(!this.props.Criteria.hasOwnProperty(el)){continue}var item=this.props.Criteria[el];if(item===undefined){criteria.push(_react2.default.createElement(\"div\",{className:\"alert alert-warning\",role:\"alert\"},el,\" has been added as a filter but not had criteria defined.\"))}else{criteria.push(_react2.default.createElement(\"div\",{className:\"row\"},_react2.default.createElement(\"span\",{className:\"col-sm-3\"},el),_react2.default.createElement(\"span\",{className:\"col-sm-3\"},item.operator),_react2.default.createElement(\"span\",{className:\"col-sm-3\"},item.value)))}}return _react2.default.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading,Active:this.props.Active},_react2.default.createElement(\"h2\",null,\"Query Criteria\"),criteria,buttons,_react2.default.createElement(\"div\",{className:\"form-group form-horizontal row\"},_react2.default.createElement(\"label\",{htmlFor:\"selected-input\",className:\"col-sm-1 control-label\"},\"Data\"),_react2.default.createElement(\"div\",{className:\"col-sm-4\"},_react2.default.createElement(\"div\",{className:\"btn-group\"},_react2.default.createElement(\"button\",{id:\"selected-input\",type:\"button\",className:\"btn btn-default dropdown-toggle\",\"data-toggle\":\"dropdown\"},_react2.default.createElement(\"span\",{id:\"search_concept\"},this.props.displayType),_react2.default.createElement(\"span\",{className:\"caret\"})),_react2.default.createElement(\"ul\",{className:\"dropdown-menu\",role:\"menu\"},_react2.default.createElement(\"li\",{onClick:this.changeDataDisplay.bind(this,0)},_react2.default.createElement(\"div\",{className:\"col-sm-12\"},_react2.default.createElement(\"h5\",{className:\"\"},\"Cross-sectional\"))),_react2.default.createElement(\"li\",{onClick:this.changeDataDisplay.bind(this,1)},_react2.default.createElement(\"div\",{className:\"col-sm-12\"},_react2.default.createElement(\"h5\",{className:\"\"},\"Longitudinal\"))))))),_react2.default.createElement(StaticDataTable,{Headers:this.props.RowHeaders,RowNumLabel:\"Identifiers\",Data:this.props.Data,RowNameMap:this.props.RowInfo}))}}]);return ViewDataTabPane}(_react.Component);ViewDataTabPane.propTypes={runQuery:_propTypes2.default.func.isRequired};var ScatterplotGraph=function(_Component7){_inherits(ScatterplotGraph,_Component7);function ScatterplotGraph(props){_classCallCheck(this,ScatterplotGraph);var _this8=_possibleConstructorReturn(this,(ScatterplotGraph.__proto__||Object.getPrototypeOf(ScatterplotGraph)).call(this,props));_this8.state={};_this8.lsFit=_this8.lsFit.bind(_this8);_this8.minmaxx=_this8.minmaxx.bind(_this8);_this8.updateScatterplot=_this8.updateScatterplot.bind(_this8);return _this8}_createClass(ScatterplotGraph,[{key:\"lsFit\",value:function lsFit(data){var i=0,means=jStat(data).mean(),xmean=means[0],ymean=means[1],interim=0,numerator=0,denominator=0,slope=void 0,xi=void 0,yi=void 0;for(i=0;i<data.length;i+=1){xi=data[i][0];yi=data[i][1];numerator+=(xi-xmean)*(yi-ymean);denominator+=(xi-xmean)*(xi-xmean)}slope=numerator/denominator;return[ymean-slope*xmean,slope]}},{key:\"minmaxx\",value:function minmaxx(arr){var i=void 0,min=void 0,max=void 0;for(i=0;i<arr.length;i+=1){if(arr[i][0]<min||min===undefined){if(arr[i][0]!==undefined&&arr[i][0]!==null){min=arr[i][0]}}if(arr[i][0]>max||max===undefined){if(arr[i][0]!==undefined&&arr[i][0]!==null){max=arr[i][0]}}}return[min,max]}},{key:\"updateScatterplot\",value:function updateScatterplot(){var xaxis=document.getElementById(\"scatter-xaxis\").value,yaxis=document.getElementById(\"scatter-yaxis\").value,grouping=document.getElementById(\"scatter-group\").value,data=this.props.Data,points=[],min=void 0,max=void 0,field1=[],field2=[],grouped_points={},i=0,group_label=void 0,minmax=void 0,LS=void 0,slope=void 0,start=void 0,plots=[],label=void 0,plotY=function plotY(x){return[x,start+slope*x]},dataset=void 0;for(i=0;i<data.length;i+=1){points.push([data[i][xaxis],data[i][yaxis]]);field1.push(data[i][xaxis]);field2.push(data[i][yaxis]);if(grouping){group_label=data[i][grouping];if(!(grouped_points[group_label]instanceof Array)){grouped_points[group_label]=[]}grouped_points[group_label].push([data[i][xaxis],data[i][yaxis]])}}if(grouping===\"ungrouped\"){minmax=this.minmaxx(points);min=minmax[0];max=minmax[1];LS=this.lsFit(points);slope=LS[1];start=LS[0];$.plot(\"#scatterplotdiv\",[{label:\"Data Points\",data:points,points:{show:true}},{label:\"Least Squares Fit\",data:jStat.seq(min,max,3,plotY),lines:{show:true}}],{})}else{minmax=this.minmaxx(points);min=minmax[0];max=minmax[1];i=0;for(dataset in grouped_points){if(grouped_points.hasOwnProperty(dataset)){label=document.getElementById(\"scatter-group\").selectedOptions.item(0).textContent+\" = \"+dataset;plots.push({color:i,label:dataset,data:grouped_points[dataset],points:{show:true}});LS=this.lsFit(grouped_points[dataset]);slope=LS[1];start=LS[0];plots.push({color:i,data:jStat.seq(min,max,3,plotY),lines:{show:true}});i+=1}}$.plot(\"#scatterplotdiv\",plots,{})}$(\"#correlationtbl tbody\").children().remove();$(\"#correlationtbl tbody\").append(\"<tr><td>\"+jStat.covariance(field1,field2)+\"</td><td>\"+jStat.corrcoeff(field1,field2)+\"</td></tr>\")}},{key:\"render\",value:function render(){var options=this.props.Fields.map(function(element,key){console.log(element);return _react2.default.createElement(\"option\",{value:key},element)}),scatterStyle={width:\"500px\",height:\"500px\"};return _react2.default.createElement(\"div\",null,_react2.default.createElement(\"h2\",null,\"Scatterplot\"),_react2.default.createElement(\"div\",{className:\"col-xs-4 col-md-3\"},\"Column for X Axis\"),_react2.default.createElement(\"div\",{className:\"col-xs-8 col-md-3\"},_react2.default.createElement(\"select\",{id:\"scatter-xaxis\",onChange:this.updateScatterplot},_react2.default.createElement(\"option\",null,\"None\"),options)),_react2.default.createElement(\"div\",{className:\"col-xs-4 col-md-3\"},\"Column for Y Axis\"),_react2.default.createElement(\"div\",{className:\"col-xs-8 col-md-3\"},_react2.default.createElement(\"select\",{id:\"scatter-yaxis\",onChange:this.updateScatterplot},_react2.default.createElement(\"option\",null,\"None\"),options)),_react2.default.createElement(\"div\",{className:\"col-xs-4 col-md-3\"},\"Group by column\"),_react2.default.createElement(\"div\",{className:\"col-xs-8 col-md-3\"},_react2.default.createElement(\"select\",{id:\"scatter-group\",onChange:this.updateScatterplot},_react2.default.createElement(\"option\",null,\"None\"),options)),_react2.default.createElement(\"h3\",null,\"Scatterplot\"),_react2.default.createElement(\"div\",{id:\"scatterplotdiv\",style:scatterStyle}),_react2.default.createElement(\"h3\",null,\"Statistics\"),_react2.default.createElement(\"table\",{id:\"correlationtbl\"},_react2.default.createElement(\"thead\",null,_react2.default.createElement(\"tr\",null,_react2.default.createElement(\"th\",null,\"Covariance\"),_react2.default.createElement(\"th\",null,\"Correlation Coefficient\"))),_react2.default.createElement(\"tbody\",null)))}}]);return ScatterplotGraph}(_react.Component);var StatsVisualizationTabPane=function(_Component8){_inherits(StatsVisualizationTabPane,_Component8);function StatsVisualizationTabPane(props){_classCallCheck(this,StatsVisualizationTabPane);var _this9=_possibleConstructorReturn(this,(StatsVisualizationTabPane.__proto__||Object.getPrototypeOf(StatsVisualizationTabPane)).call(this,props));_this9.state={displayed:false};return _this9}_createClass(StatsVisualizationTabPane,[{key:\"render\",value:function render(){var content=_react2.default.createElement(\"div\",null,\"Statistics not yet calculated.\");if(this.props.Data.length===0){var _content=_react2.default.createElement(\"div\",null,\"Could not calculate stats, query not run\")}else{var stats=jStat(this.props.Data),min=stats.min(),max=stats.max(),stddev=stats.stdev(),mean=stats.mean(),meandev=stats.meandev(),meansqerr=stats.meansqerr(),quartiles=stats.quartiles(),rows=[];for(var i=0;i<this.props.Fields.length;i+=1){rows.push(_react2.default.createElement(\"tr\",{key:\"fields_\".concat(i)},_react2.default.createElement(\"td\",null,this.props.Fields[i]),_react2.default.createElement(\"td\",null,min[i]),_react2.default.createElement(\"td\",null,max[i]),_react2.default.createElement(\"td\",null,stddev[i]),_react2.default.createElement(\"td\",null,mean[i]),_react2.default.createElement(\"td\",null,meandev[i]),_react2.default.createElement(\"td\",null,meansqerr[i]),_react2.default.createElement(\"td\",null,quartiles[i][0]),_react2.default.createElement(\"td\",null,quartiles[i][1]),_react2.default.createElement(\"td\",null,quartiles[i][2])))}var statsTable=_react2.default.createElement(\"table\",{className:\"table table-hover table-primary table-bordered colm-freeze\"},_react2.default.createElement(\"thead\",null,_react2.default.createElement(\"tr\",{className:\"info\"},_react2.default.createElement(\"th\",null,\"Measure\"),_react2.default.createElement(\"th\",null,\"Min\"),_react2.default.createElement(\"th\",null,\"Max\"),_react2.default.createElement(\"th\",null,\"Standard Deviation\"),_react2.default.createElement(\"th\",null,\"Mean\"),_react2.default.createElement(\"th\",null,\"Mean Deviation\"),_react2.default.createElement(\"th\",null,\"Mean Squared Error\"),_react2.default.createElement(\"th\",null,\"First Quartile\"),_react2.default.createElement(\"th\",null,\"Second Quartile\"),_react2.default.createElement(\"th\",null,\"Third Quartile\"))),_react2.default.createElement(\"tbody\",null,rows));content=_react2.default.createElement(\"div\",null,_react2.default.createElement(\"h2\",null,\"Basic Statistics\"),statsTable,_react2.default.createElement(ScatterplotGraph,{Fields:this.props.Fields,Data:this.props.Data}))}return _react2.default.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading,Active:this.props.Active},content)}}]);return StatsVisualizationTabPane}(_react.Component);StatsVisualizationTabPane.propTypes={Data:_propTypes2.default.array};StatsVisualizationTabPane.defaultProps={Data:[]};var SaveQueryDialog=function(_Component9){_inherits(SaveQueryDialog,_Component9);function SaveQueryDialog(props){_classCallCheck(this,SaveQueryDialog);var _this10=_possibleConstructorReturn(this,(SaveQueryDialog.__proto__||Object.getPrototypeOf(SaveQueryDialog)).call(this,props));_this10.state={queryName:\"\",shared:false};_this10.editName=_this10.editName.bind(_this10);_this10.editPublic=_this10.editPublic.bind(_this10);_this10.onSaveClicked=_this10.onSaveClicked.bind(_this10);_this10.onDismissClicked=_this10.onDismissClicked.bind(_this10);return _this10}_createClass(SaveQueryDialog,[{key:\"editName\",value:function editName(e){this.setState({queryName:e.target.value})}},{key:\"editPublic\",value:function editPublic(e){this.setState({shared:e.target.checked})}},{key:\"onSaveClicked\",value:function onSaveClicked(){if(this.props.onSaveClicked){this.props.onSaveClicked(this.state.queryName,this.state.shared)}}},{key:\"onDismissClicked\",value:function onDismissClicked(){if(this.props.onDismissClicked){this.props.onDismissClicked()}}},{key:\"render\",value:function render(){return _react2.default.createElement(\"div\",{className:\"modal show\"},_react2.default.createElement(\"div\",{className:\"modal-dialog\"},_react2.default.createElement(\"div\",{className:\"modal-content\"},_react2.default.createElement(\"div\",{className:\"modal-header\"},_react2.default.createElement(\"button\",{type:\"button\",className:\"close\",\"aria-label\":\"Close\",onClick:this.onDismissClicked},_react2.default.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\")),_react2.default.createElement(\"h4\",{className:\"modal-title\",id:\"myModalLabel\"},\"Save Current Query\")),_react2.default.createElement(\"div\",{className:\"modal-body\"},_react2.default.createElement(\"p\",null,\"Enter the name you would like to save your query under here:\"),_react2.default.createElement(\"div\",{className:\"input-group\"},\"Query Name: \",_react2.default.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"My Query\",value:this.state.queryName,onChange:this.editName})),_react2.default.createElement(\"p\",null,\"Make query a publicly shared query? \",_react2.default.createElement(\"input\",{type:\"checkbox\",checked:this.state.shared?\"checked\":\"\",onChange:this.editPublic,\"aria-label\":\"Shared Query\"}))),_react2.default.createElement(\"div\",{className:\"modal-footer\"},_react2.default.createElement(\"button\",{type:\"button\",className:\"btn btn-default\",onClick:this.onDismissClicked},\"Close\"),_react2.default.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.onSaveClicked},\"Save changes\")))))}}]);return SaveQueryDialog}(_react.Component);var ManageSavedQueryFilter=function(_Component10){_inherits(ManageSavedQueryFilter,_Component10);function ManageSavedQueryFilter(props){_classCallCheck(this,ManageSavedQueryFilter);var _this11=_possibleConstructorReturn(this,(ManageSavedQueryFilter.__proto__||Object.getPrototypeOf(ManageSavedQueryFilter)).call(this,props));_this11.state={};return _this11}_createClass(ManageSavedQueryFilter,[{key:\"render\",value:function render(){var filterItem=void 0,filter=this.props.filterItem;if(filter.activeOperator){var logicOp=\"AND\",children=filter.children.map(function(element,key){return _react2.default.createElement(ManageSavedQueryFilter,{filterItem:element})});if(filter.activeOperator===1){logicOp=\"OR\"}return _react2.default.createElement(\"li\",null,_react2.default.createElement(\"span\",null,logicOp),_react2.default.createElement(\"ul\",{className:\"savedQueryTree\"},children))}else{filter=this.props.filterItem;if(filter.instrument){var operator=void 0;switch(filter.operator){case\"equal\":operator=\"=\";break;case\"notEqual\":operator=\"!=\";break;case\"lessThanEqual\":operator=\"<=\";break;case\"greaterThanEqual\":operator=\">=\";break;default:operator=filter.operator;break}filterItem=_react2.default.createElement(\"span\",null,filter.instrument,\",\",filter.field,\" \",operator,\" \",filter.value)}else{filterItem=_react2.default.createElement(\"span\",null,filter.Field,\" \",filter.Operator,\" \",filter.Value)}}return _react2.default.createElement(\"li\",null,filterItem)}}]);return ManageSavedQueryFilter}(_react.Component);var ManageSavedQueryRow=function(_Component11){_inherits(ManageSavedQueryRow,_Component11);function ManageSavedQueryRow(props){_classCallCheck(this,ManageSavedQueryRow);var _this12=_possibleConstructorReturn(this,(ManageSavedQueryRow.__proto__||Object.getPrototypeOf(ManageSavedQueryRow)).call(this,props));_this12.state={};return _this12}_createClass(ManageSavedQueryRow,[{key:\"render\",value:function render(){var fields=[];var filters=void 0;if(this.props.Query.Fields&&Array.isArray(this.props.Query.Fields)){for(var i=0;i<this.props.Query.Fields.length;i+=1){fields.push(_react2.default.createElement(\"li\",null,this.props.Query.Fields[i]))}}else if(this.props.Query.Fields){for(var instrument in this.props.Query.Fields){for(var field in this.props.Query.Fields[instrument]){if(field===\"allVisits\"){continue}else{fields.push(_react2.default.createElement(\"li\",null,instrument,\",\",field))}}}}if(fields.length===0){fields.push(_react2.default.createElement(\"li\",null,\"No fields defined\"))}if(this.props.Query.Conditions){var operator=void 0,filter=void 0;if(this.props.Query.Conditions.activeOperator){if(this.props.Query.Conditions.children){if(this.props.Query.Conditions.activeOperator===0){operator=_react2.default.createElement(\"span\",null,\"AND\")}else{operator=_react2.default.createElement(\"span\",null,\"OR\")}filter=this.props.Query.Conditions.children.map(function(element,key){return _react2.default.createElement(ManageSavedQueryFilter,{key,filterItem:element})})}else{operator=_react2.default.createElement(\"span\",null,\"No filters defined\")}}else{if(this.props.Query.Conditions.length===0){operator=_react2.default.createElement(\"span\",null,\"No filters defined\")}else{operator=_react2.default.createElement(\"span\",null,\"AND\");filter=this.props.Query.Conditions.map(function(element,key){return _react2.default.createElement(ManageSavedQueryFilter,{key,filterItem:element})})}}filters=_react2.default.createElement(\"div\",{className:\"tree\"},_react2.default.createElement(\"ul\",{className:\"firstUL savedQueryTree\"},_react2.default.createElement(\"li\",null,operator,_react2.default.createElement(\"ul\",{className:\"savedQueryTree\"},filter))))}if(!filters){filters=_react2.default.createElement(\"strong\",null,\"No filters defined\")}return _react2.default.createElement(\"tr\",null,_react2.default.createElement(\"td\",null,this.props.Name),_react2.default.createElement(\"td\",null,_react2.default.createElement(\"ul\",null,fields)),_react2.default.createElement(\"td\",null,filters))}}]);return ManageSavedQueryRow}(_react.Component);ManageSavedQueryRow.propTypes={Name:_propTypes2.default.string,Query:_propTypes2.default.object};ManageSavedQueryRow.defaultProps={Name:\"Unknown\",Query:{Fields:[]}};var ManageSavedQueriesTabPane=function(_Component12){_inherits(ManageSavedQueriesTabPane,_Component12);function ManageSavedQueriesTabPane(props){_classCallCheck(this,ManageSavedQueriesTabPane);var _this13=_possibleConstructorReturn(this,(ManageSavedQueriesTabPane.__proto__||Object.getPrototypeOf(ManageSavedQueriesTabPane)).call(this,props));_this13.state={savePrompt:false,queriesLoaded:false,queries:{}};_this13.dismissDialog=_this13.dismissDialog.bind(_this13);_this13.saveQuery=_this13.saveQuery.bind(_this13);_this13.savedQuery=_this13.savedQuery.bind(_this13);return _this13}_createClass(ManageSavedQueriesTabPane,[{key:\"dismissDialog\",value:function dismissDialog(){this.setState({savePrompt:false})}},{key:\"saveQuery\",value:function saveQuery(){this.setState({savePrompt:true})}},{key:\"savedQuery\",value:function savedQuery(name,shared){if(this.props.onSaveQuery){this.props.onSaveQuery(name,shared,\"false\")}this.setState({savePrompt:false})}},{key:\"render\",value:function render(){var queryRows=[];if(this.props.queriesLoaded){for(var i=0;i<this.props.userQueries.length;i+=1){var query=this.props.queryDetails[this.props.userQueries[i]];var name=\"Unnamed Query: \"+this.props.userQueries[i];if(query.Meta.name){name=query.Meta.name}queryRows.push(_react2.default.createElement(ManageSavedQueryRow,{Name:name,Query:query}))}}else{queryRows.push(_react2.default.createElement(\"tr\",{key:\"loading\"},_react2.default.createElement(\"td\",{colSpan:\"3\"},\"Loading saved query details\")))}var savePrompt=\"\";if(this.state.savePrompt){savePrompt=_react2.default.createElement(SaveQueryDialog,{onDismissClicked:this.dismissDialog,onSaveClicked:this.savedQuery})}var content=_react2.default.createElement(\"div\",null,_react2.default.createElement(\"h2\",null,\"Your currently saved queries\"),_react2.default.createElement(\"button\",{onClick:this.saveQuery},\"Save Current Query\"),_react2.default.createElement(\"table\",{className:\"table table-hover table-primary table-bordered colm-freeze\"},_react2.default.createElement(\"thead\",null,_react2.default.createElement(\"tr\",{key:\"info\",className:\"info\"},_react2.default.createElement(\"th\",null,\"Query Name\"),_react2.default.createElement(\"th\",null,\"Fields\"),_react2.default.createElement(\"th\",null,\"Filters\"))),_react2.default.createElement(\"tbody\",null,queryRows)),savePrompt);return _react2.default.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},content)}}]);return ManageSavedQueriesTabPane}(_react.Component);ManageSavedQueriesTabPane.propTypes={userQueries:_propTypes2.default.array,globalQueries:_propTypes2.default.array,queriesLoaded:_propTypes2.default.bool,queryDetails:_propTypes2.default.object};ManageSavedQueriesTabPane.defaultProps={userQueries:[],globalQueries:[],queriesLoaded:false,queryDetails:{}};window.Loading=Loading;window.TabPane=TabPane;window.InfoTabPane=InfoTabPane;window.FieldSelectTabPane=FieldSelectTabPane;window.FilterSelectTabPane=FilterSelectTabPane;window.ViewDataTabPane=ViewDataTabPane;window.ScatterplotGraph=ScatterplotGraph;window.StatsVisualizationTabPane=StatsVisualizationTabPane;window.SaveQueryDialog=SaveQueryDialog;window.ManageSavedQueryFilter=ManageSavedQueryFilter;window.ManageSavedQueryRow=ManageSavedQueryRow;window.ManageSavedQueriesTabPane=ManageSavedQueriesTabPane;exports.default={Loading,TabPane,InfoTabPane,FieldSelectTabPane,FilterSelectTabPane,ViewDataTabPane,ScatterplotGraph,StatsVisualizationTabPane,SaveQueryDialog,ManageSavedQueryFilter,ManageSavedQueryRow,ManageSavedQueriesTabPane}}});","extractedComments":[]}