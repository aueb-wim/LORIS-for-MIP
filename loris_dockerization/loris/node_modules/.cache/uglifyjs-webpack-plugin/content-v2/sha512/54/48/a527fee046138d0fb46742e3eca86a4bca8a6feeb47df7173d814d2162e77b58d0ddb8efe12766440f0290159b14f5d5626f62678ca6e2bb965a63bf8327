{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/var/www/loris/modules/publication/jsx/projectFields.js\",\"/var/www/loris/modules/publication/jsx/viewProjectIndex.js\",\"/var/www/loris/modules/publication/jsx/viewProject.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"getDefault\",\"getModuleExports\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"EmailElement\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"getPrototypeOf\",\"handleChange\",\"handleBlur\",\"e\",\"props\",\"onUserInput\",\"onUserBlur\",\"disabled\",\"required\",\"errorMessage\",\"requiredHTML\",\"elementClass\",\"React\",\"createElement\",\"className\",\"htmlFor\",\"id\",\"label\",\"type\",\"onChange\",\"onBlur\",\"toggleEmailNotify\",\"addressee\",\"Component\",\"console\",\"ProjectFormFields\",\"_this2\",\"createCollabEmailFields\",\"deleteUpload\",\"createFileFields\",\"addCollaborator\",\"removeCollaborator\",\"setCollaboratorEmail\",\"uploadID\",\"self\",\"swal\",\"title\",\"text\",\"showCancelButton\",\"confirmButtonText\",\"cancelButtonText\",\"willDelete\",\"url\",\"loris\",\"$\",\"method\",\"success\",\"fileFields\",\"files\",\"forEach\",\"f\",\"_this3\",\"downloadURL\",\"encodeURIComponent\",\"URL\",\"link\",\"href\",\"style\",\"cursor\",\"onClick\",\"PublicationUploadID\",\"existFileFlag\",\"pubType\",\"pubCit\",\"pubVer\",\"pubTypeStr\",\"uploadTypes\",\"formData\",\"StaticElement\",\"TextboxElement\",\"setFormData\",\"numFiles\",\"fileName\",\"FileElement\",\"setFileData\",\"publicationType\",\"publicationCitation\",\"publicationVersion\",\"SelectElement\",\"options\",\"collabEmails\",\"collaborators\",\"validateEmail\",\"formErrors\",\"email\",\"formElement\",\"pendingValKey\",\"notify\",\"filter\",\"collabName\",\"findIndex\",\"currNotify\",\"notifyLead\",\"voiHelp\",\"collabNames\",\"map\",\"voiTypeOptions\",\"All\",\"Behavioral\",\"Imaging\",\"allVOIs\",\"voiOptions\",\"voiType\",\"bvlCopy\",\"TextareaElement\",\"description\",\"leadInvestigator\",\"leadInvestigatorEmail\",\"TagsElement\",\"users\",\"useSearch\",\"strictSearch\",\"onUserAdd\",\"addListItem\",\"onUserRemove\",\"removeListItem\",\"pendingUWEP\",\"items\",\"usersWithEditPerm\",\"btnLabel\",\"allCollabs\",\"pendingCollab\",\"allKWs\",\"pendingKWItem\",\"keywords\",\"emptyOption\",\"pendingItemVF\",\"voiFields\",\"ButtonElement\",\"editMode\",\"_viewProject\",\"args\",\"QueryString\",\"document\",\"src\",\"viewProject\",\"_viewProject2\",\"default\",\"DataURL\",\"BaseURL\",\"action\",\"ReactDOM\",\"_projectFields\",\"ViewProject\",\"state\",\"isLoaded\",\"handleSubmit\",\"createFileDownloadLinks\",\"createMenuFilterLinks\",\"createStaticComponents\",\"createEditableComponents\",\"fetchData\",\"field\",\"undefined\",\"test\",\"setState\",\"formObj\",\"FormData\",\"formVal\",\"Array\",\"JSON\",\"data\",\"cache\",\"contentType\",\"processData\",\"error\",\"jqXHR\",\"resp\",\"dataType\",\"status\",\"voi\",\"rejectedReason\",\"statusOpts\",\"userCanEdit\",\"_error\",\"errorCode\",\"errorMsg\",\"toReturn\",\"download\",\"uploadType\",\"PublicationUploadTypeID\",\"Citation\",\"Version\",\"stringArr\",\"filterVar\",\"links\",\"vois\",\"collabLinks\",\"keywordLinks\",\"voiLinks\",\"length\",\"_projectFields2\",\"listItems\",\"index\",\"statusElement\",\"rejectReason\",\"reviewBtn\",\"statusID\",\"statClassMap\",\"Pending\",\"Approved\",\"Rejected\",\"statusText\",\"formElements\",\"FormElement\",\"onSubmit\",\"ref\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 93);\\n\",\"class EmailElement extends React.Component {\\n  constructor() {\\n    super();\\n    this.handleChange = this.handleChange.bind(this);\\n    this.handleBlur = this.handleBlur.bind(this);\\n  }\\n\\n  handleChange(e) {\\n    this.props.onUserInput(this.props.name, e.target.value);\\n  }\\n\\n  handleBlur(e) {\\n    this.props.onUserBlur(this.props.name, e.target.value);\\n  }\\n\\n  render() {\\n    let disabled = this.props.disabled ? 'disabled' : null;\\n    let required = this.props.required ? 'required' : null;\\n    let errorMessage = null;\\n    let requiredHTML = null;\\n    let elementClass = 'row form-group';\\n\\n    // Add required asterix\\n    if (required) {\\n      requiredHTML = <span className=\\\"text-danger\\\">*</span>;\\n    }\\n\\n    // Add error message\\n    if (this.props.errorMessage) {\\n      errorMessage = <span>{this.props.errorMessage}</span>;\\n      elementClass = 'row form-group has-error';\\n    }\\n\\n    return (\\n      <div className={elementClass}>\\n        <label className=\\\"col-sm-3 control-label\\\" htmlFor={this.props.id}>\\n          {this.props.label}\\n          {requiredHTML}\\n        </label>\\n        <div className=\\\"col-sm-7\\\">\\n          <input\\n            type=\\\"text\\\"\\n            className=\\\"form-control\\\"\\n            name={this.props.name}\\n            id={this.props.id}\\n            value={this.props.value || ''}\\n            required={required}\\n            disabled={disabled}\\n            onChange={this.handleChange}\\n            onBlur={this.handleBlur}\\n          />\\n          {errorMessage}\\n        </div>\\n        <div className=\\\"col-sm-2\\\">\\n        <span>\\n          <input\\n            name={this.props.name + '_notify'}\\n            type=\\\"checkbox\\\"\\n            onChange={this.props.toggleEmailNotify}\\n            value={this.props.addressee}\\n          />\\n          <span>Send email notification?</span>\\n        </span>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nEmailElement.defaultProps = {\\n  name: '',\\n  label: '',\\n  value: '',\\n  addressee: '',\\n  id: null,\\n  disabled: false,\\n  required: false,\\n  errorMessage: '',\\n  onUserInput: function() {\\n    console.warn('onUserInput() callback is not set');\\n  },\\n  onUserBlur: function() {\\n  },\\n};\\n\\n// This class combines the common form elements between\\n// Edit mode and initial Project Proposal/Creation mode\\nclass ProjectFormFields extends React.Component {\\n  constructor() {\\n    super();\\n    this.createCollabEmailFields = this.createCollabEmailFields.bind(this);\\n    this.deleteUpload = this.deleteUpload.bind(this);\\n    this.createFileFields = this.createFileFields.bind(this);\\n    this.addCollaborator = this.addCollaborator.bind(this);\\n    this.removeCollaborator = this.removeCollaborator.bind(this);\\n    this.setCollaboratorEmail = this.setCollaboratorEmail.bind(this);\\n    this.toggleEmailNotify = this.toggleEmailNotify.bind(this);\\n  }\\n\\n  deleteUpload(uploadID) {\\n    let self = this;\\n    swal({\\n      title: 'Are you sure?',\\n      text: 'Are you sure you want to delete this file?',\\n      type: 'warning',\\n      showCancelButton: true,\\n      confirmButtonText: 'Yes, I am sure!',\\n      cancelButtonText: 'No, cancel it!',\\n    },\\n      function(willDelete) {\\n        if (willDelete) {\\n          let url = loris.BaseURL + '/publication/ajax/FileDelete.php?uploadID=' + uploadID;\\n          $.ajax(\\n            url,\\n            {\\n              method: 'DELETE',\\n              success: function() {\\n                self.props.fetchData();\\n              },\\n            });\\n        }\\n      });\\n  }\\n\\n  createFileFields() {\\n    let fileFields = [];\\n    // Create download link & edit fields for existing files\\n    if (this.props.files) {\\n      this.props.files.forEach(function(f) {\\n        let downloadURL = loris.BaseURL + '/publication/ajax/FileDownload.php?File=' + encodeURIComponent(f.URL);\\n        let link = (\\n          <span>\\n            <a href={downloadURL}>{f.URL}</a>\\n            &nbsp;&nbsp;\\n            <span\\n              className=\\\"glyphicon glyphicon-remove\\\"\\n              style={{cursor: 'pointer'}}\\n              onClick={() => this.deleteUpload(f.PublicationUploadID)}\\n            />\\n          </span>\\n        );\\n        let existFileFlag = 'existingUpload_';\\n        let pubType = existFileFlag + 'publicationType_' + f.PublicationUploadID;\\n        let pubCit = existFileFlag + 'publicationCitation_' + f.PublicationUploadID;\\n        let pubVer = existFileFlag + 'publicationVersion_' + f.PublicationUploadID;\\n        let pubTypeStr = this.props.uploadTypes[this.props.formData[pubType]];\\n        fileFields.push(\\n          <div>\\n            <StaticElement\\n              label={pubTypeStr}\\n              text={link}\\n            />\\n            <TextboxElement\\n              name={pubCit}\\n              label=\\\"Citation\\\"\\n              onUserInput={this.props.setFormData}\\n              value={this.props.formData[pubCit]}\\n            />\\n            <TextboxElement\\n              name={pubVer}\\n              label=\\\"Publication Version\\\"\\n              onUserInput={this.props.setFormData}\\n              value={this.props.formData[pubVer]}\\n            />\\n          </div>\\n        );\\n      }, this);\\n    }\\n    // create fields for new files\\n    for (let i = 0; i <= this.props.numFiles; i++) {\\n      let fileName = 'file_' + i;\\n      fileFields.push(\\n        <FileElement\\n          name={fileName}\\n          id={'publicationUploadEl_' + i}\\n          onUserInput={this.props.setFileData}\\n          label=\\\"File to upload\\\"\\n          value={this.props.formData[fileName]}\\n        />\\n      );\\n      if (this.props.formData[fileName]) {\\n        let publicationType = 'publicationType_' + i;\\n        let publicationCitation = 'publicationCitation_' + i;\\n        let publicationVersion = 'publicationVersion_' + i;\\n        fileFields.push(\\n          <div>\\n            <SelectElement\\n              name={publicationType}\\n              label=\\\"Publication Type\\\"\\n              onUserInput={this.props.setFormData}\\n              value={this.props.formData[publicationType]}\\n              options={this.props.uploadTypes}\\n              required={true}\\n            />\\n            <TextboxElement\\n              name={publicationCitation}\\n              label=\\\"Citation\\\"\\n              onUserInput={this.props.setFormData}\\n              value={this.props.formData[publicationCitation]}\\n            />\\n            <TextboxElement\\n              name={publicationVersion}\\n              label=\\\"Publication Version\\\"\\n              onUserInput={this.props.setFormData}\\n              value={this.props.formData[publicationVersion]}\\n            />\\n          </div>\\n        );\\n      }\\n    }\\n\\n    return fileFields;\\n  }\\n\\n  createCollabEmailFields() {\\n    let collabEmails = [];\\n    if (this.props.formData.collaborators) {\\n      this.props.formData.collaborators.forEach(\\n        function(c, i) {\\n          let name = 'collabEmail_' + c.name;\\n          collabEmails.push(\\n            <EmailElement\\n              name={name}\\n              label={c.name + (c.name.slice(-1) === 's' ? '\\\\'' : '\\\\'s') + ' Email'}\\n              onUserInput={this.setCollaboratorEmail}\\n              onUserBlur={this.props.validateEmail}\\n              toggleEmailNotify={this.toggleEmailNotify}\\n              errorMessage={this.props.formErrors[name]}\\n              required={false}\\n              value={this.props.formData.collaborators[i].email}\\n              addressee={c.name}\\n            />\\n          );\\n        }, this);\\n    }\\n    return collabEmails;\\n  }\\n\\n  addCollaborator(formElement, value, pendingValKey) {\\n    let collaborators = this.props.formData.collaborators || [];\\n    collaborators.push(\\n      {\\n        name: value,\\n        email: null,\\n        notify: false,\\n      }\\n    );\\n\\n    this.props.setFormData('collaborators', collaborators);\\n    this.props.setFormData(pendingValKey, null);\\n  }\\n\\n  removeCollaborator(formElement, value) {\\n    let collaborators = this.props.formData.collaborators || [];\\n    collaborators = collaborators.filter((c) => c.name !== value);\\n    this.props.setFormData('collaborators', collaborators);\\n  }\\n\\n  setCollaboratorEmail(formElement, value) {\\n    let collabName = formElement.split('_')[1];\\n    let collaborators = this.props.formData.collaborators;\\n    let i = collaborators.findIndex((c) => c.name === collabName);\\n    collaborators[i].email = value;\\n    this.props.setFormData('collaborators', collaborators);\\n  }\\n\\n  toggleEmailNotify(e) {\\n    if (e.target.name.indexOf('collabEmail') > -1) {\\n      let collaborators = this.props.formData.collaborators;\\n      let collabName = e.target.value;\\n      let i = collaborators.findIndex((c) => c.name === collabName);\\n      collaborators[i].notify = !collaborators[i].notify;\\n      this.props.setFormData('collaborators', collaborators);\\n    } else if (e.target.name === 'leadInvestigatorEmail_notify') {\\n      let currNotify = this.props.formData.notifyLead || false;\\n      this.props.setFormData('notifyLead', !currNotify);\\n    }\\n  }\\n\\n  render() {\\n    let collabEmails = this.createCollabEmailFields();\\n    let fileFields = this.createFileFields();\\n\\n    let voiHelp = (<div>For help finding variables of interest, consult\\n      the <a href={loris.BaseURL + '/datadict/'}>Data Dictionary</a>\\n      </div>);\\n    let collabNames = [];\\n    if (this.props.formData.collaborators) {\\n      collabNames = this.props.formData.collaborators.map((c) => c.name);\\n    }\\n\\n    let voiTypeOptions = {\\n      All: 'All',\\n      Behavioral: 'Behavioral',\\n      Imaging: 'Imaging',\\n    };\\n\\n    const allVOIs = this.props.allVOIs;\\n    let voiOptions = {};\\n    let type = this.props.formData.voiType;\\n    if (type && type !== 'All') {\\n      voiOptions = this.props.allVOIs[type];\\n    } else {\\n      // maintain behavioral VoIs by creating an object copy\\n      const bvlCopy = Object.assign({}, allVOIs.Behavioral);\\n      voiOptions = Object.assign(bvlCopy, allVOIs.Imaging);\\n    }\\n\\n    return (\\n      <div>\\n        <TextareaElement\\n          name=\\\"description\\\"\\n          label=\\\"Description\\\"\\n          onUserInput={this.props.setFormData}\\n          required={true}\\n          value={this.props.formData.description}\\n        />\\n        <TextboxElement\\n          name=\\\"leadInvestigator\\\"\\n          label=\\\"Lead Investigator\\\"\\n          onUserInput={this.props.setFormData}\\n          required={true}\\n          value={this.props.formData.leadInvestigator}\\n        />\\n        <EmailElement\\n          name=\\\"leadInvestigatorEmail\\\"\\n          label=\\\"Lead Investigator Email\\\"\\n          onUserInput={this.props.setFormData}\\n          onUserBlur={this.props.validateEmail}\\n          toggleEmailNotify={this.toggleEmailNotify}\\n          errorMessage={this.props.formErrors.leadInvestigatorEmail}\\n          required={true}\\n          value={this.props.formData.leadInvestigatorEmail}\\n          addressee=\\\"leadInvestigator\\\"\\n        />\\n        <TagsElement\\n          name=\\\"usersWithEditPerm\\\"\\n          id=\\\"usersWithEditPerm\\\"\\n          label=\\\"LORIS Users with Edit Permission\\\"\\n          options={this.props.users}\\n          useSearch={true}\\n          strictSearch={true}\\n          onUserInput={this.props.setFormData}\\n          onUserAdd={this.props.addListItem}\\n          onUserRemove={this.props.removeListItem}\\n          value={this.props.formData.pendingUWEP}\\n          pendingValKey=\\\"pendingUWEP\\\"\\n          items={this.props.formData.usersWithEditPerm}\\n          btnLabel=\\\"Add User\\\"\\n        />\\n        <TagsElement\\n          name=\\\"collaborators\\\"\\n          id=\\\"collaborators\\\"\\n          label=\\\"Collaborators\\\"\\n          options={this.props.allCollabs}\\n          useSearch={true}\\n          strictSearch={false}\\n          onUserInput={this.props.setFormData}\\n          onUserAdd={this.addCollaborator}\\n          onUserRemove={this.removeCollaborator}\\n          value={this.props.formData.pendingCollab}\\n          pendingValKey=\\\"pendingCollab\\\"\\n          items={collabNames}\\n          btnLabel=\\\"Add Collaborator\\\"\\n        />\\n        {collabEmails}\\n        <TagsElement\\n          name=\\\"keywords\\\"\\n          id=\\\"keywords\\\"\\n          label=\\\"Keywords\\\"\\n          options={this.props.allKWs}\\n          useSearch={true}\\n          strictSearch={false}\\n          onUserInput={this.props.setFormData}\\n          onUserAdd={this.props.addListItem}\\n          onUserRemove={this.props.removeListItem}\\n          value={this.props.formData.pendingKWItem}\\n          pendingValKey=\\\"pendingKWItem\\\"\\n          items={this.props.formData.keywords}\\n          btnLabel=\\\"Add Keyword\\\"\\n        />\\n        <SelectElement\\n          name=\\\"voiType\\\"\\n          label=\\\"Type of Variables of Interest\\\"\\n          options={voiTypeOptions}\\n          onUserInput={this.props.setFormData}\\n          value={this.props.formData.voiType}\\n          emptyOption={false}\\n        />\\n        <TagsElement\\n          name=\\\"voiFields\\\"\\n          id=\\\"voiFields\\\"\\n          label=\\\"Variables of Interest\\\"\\n          useSearch={true}\\n          strictSearch={true}\\n          onUserInput={this.props.setFormData}\\n          onUserAdd={this.props.addListItem}\\n          onUserRemove={this.props.removeListItem}\\n          required={false}\\n          value={this.props.formData.pendingItemVF}\\n          options={voiOptions}\\n          pendingValKey=\\\"pendingItemVF\\\"\\n          items={this.props.formData.voiFields}\\n          btnLabel=\\\"Add Variable of Interest\\\"\\n        />\\n        <StaticElement\\n          text={voiHelp}\\n        />\\n        {fileFields}\\n        <ButtonElement label={this.props.editMode ? 'Submit' : 'Propose Project'}/>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default ProjectFormFields;\\n\",\"import ViewProject from './viewProject';\\n\\nconst args = QueryString.get(document.currentScript.src);\\n\\n$(function() {\\n  const viewProject = (\\n    <div className=\\\"page-edit-form\\\">\\n      <div className=\\\"row\\\">\\n        <div className=\\\"col-md-9 col-lg-7\\\">\\n          <ViewProject\\n            DataURL={`${loris.BaseURL}/publication/ajax/getData.php?action=getProjectData&id=${args.id}`}\\n            action={`${loris.BaseURL}/publication/ajax/FileUpload.php?action=editProject&id=${args.id}`}\\n          />\\n        </div>\\n      </div>\\n    </div>\\n  );\\n\\n  ReactDOM.render(viewProject, document.getElementById('lorisworkspace'));\\n});\\n\",\"import ProjectFormFields from './projectFields';\\n\\nclass ViewProject extends React.Component {\\n  constructor(props) {\\n    super(props);\\n\\n    this.state = {\\n      formData: {},\\n      formErrors: {},\\n      numFiles: 0,\\n      isLoaded: false,\\n    };\\n    this.handleSubmit = this.handleSubmit.bind(this);\\n    this.setFormData = this.setFormData.bind(this);\\n    this.setFileData = this.setFileData.bind(this);\\n    this.createFileDownloadLinks = this.createFileDownloadLinks.bind(this);\\n    this.createMenuFilterLinks = this.createMenuFilterLinks.bind(this);\\n    this.createStaticComponents = this.createStaticComponents.bind(this);\\n    this.createEditableComponents = this.createEditableComponents.bind(this);\\n    this.addListItem = this.addListItem.bind(this);\\n    this.removeListItem = this.removeListItem.bind(this);\\n    this.validateEmail = this.validateEmail.bind(this);\\n    this.fetchData = this.fetchData.bind(this);\\n  }\\n\\n  validateEmail(field, email) {\\n    let formErrors = this.state.formErrors;\\n\\n    // don't supply error if email is blank\\n    if (email === '' || email === null || email === undefined) {\\n      delete formErrors[field];\\n      // if email is invalid, set error, else nullify error\\n    } else if (/^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$/.test(email) === false) {\\n      formErrors[field] = 'Invalid email';\\n    } else {\\n      delete formErrors[field];\\n    }\\n    this.setState({formErrors});\\n  }\\n\\n  handleSubmit(e) {\\n    e.preventDefault();\\n\\n    if (Object.keys(this.state.formErrors).length > 0) {\\n      swal(\\n        'Please fix any remaining form errors before submission',\\n        '',\\n        'error'\\n      );\\n      return;\\n    }\\n    let formData = this.state.formData;\\n    let formObj = new FormData();\\n    for (let key in formData) {\\n      if (formData.hasOwnProperty(key) && formData[key] !== '') {\\n        let formVal;\\n        if (Array.isArray(formData[key])) {\\n          formVal = JSON.stringify(formData[key]);\\n        } else {\\n          formVal = formData[key];\\n        }\\n        formObj.append(key, formVal);\\n      }\\n    }\\n\\n    $.ajax({\\n      type: 'POST',\\n      url: this.props.action,\\n      data: formObj,\\n      cache: false,\\n      contentType: false,\\n      processData: false,\\n      success: function() {\\n        swal('Edit Successful!', '', 'success');\\n      },\\n      error: function(jqXHR) {\\n        console.error(jqXHR);\\n        let resp = 'Something went wrong!';\\n        try {\\n          resp = JSON.parse(jqXHR.responseText).message;\\n        } catch (e) {\\n          console.error(e);\\n        }\\n        swal('Edit failed!', resp, 'error');\\n      },\\n    });\\n  }\\n\\n  fetchData() {\\n    let self = this;\\n    $.ajax(this.props.DataURL, {\\n      dataType: 'json',\\n      success: function(data) {\\n        let formData = {\\n          title: data.title,\\n          description: data.description,\\n          leadInvestigator: data.leadInvestigator,\\n          leadInvestigatorEmail: data.leadInvestigatorEmail,\\n          notifyLead: false,\\n          status: data.status,\\n          voiFields: data.voi,\\n          keywords: data.keywords,\\n          collaborators: data.collaborators,\\n          usersWithEditPerm: data.usersWithEditPerm,\\n          rejectedReason: data.rejectedReason,\\n        };\\n        // set formdata for file meta data\\n        if (data.files) {\\n          data.files.forEach(function(f) {\\n            let existFileFlag = 'existingUpload_';\\n            let pubType = existFileFlag + 'publicationType_' + f.PublicationUploadID;\\n            let pubCit = existFileFlag + 'publicationCitation_' + f.PublicationUploadID;\\n            let pubVer = existFileFlag + 'publicationVersion_' + f.PublicationUploadID;\\n            formData[pubType] = f.PublicationUploadTypeID;\\n            formData[pubCit] = f.Citation;\\n            formData[pubVer] = f.Version;\\n          });\\n        }\\n\\n        self.setState({\\n          formData: formData,\\n          users: data.users,\\n          statusOpts: data.statusOpts,\\n          userCanEdit: data.userCanEdit,\\n          allVOIs: data.allVOIs,\\n          allKWs: data.allKWs,\\n          allCollabs: data.allCollabs,\\n          uploadTypes: data.uploadTypes,\\n          files: data.files,\\n          isLoaded: true,\\n        });\\n      },\\n      error: function(error, errorCode, errorMsg) {\\n        console.error(error, errorCode, errorMsg);\\n        self.setState({\\n          error: 'An error occurred when loading the form!',\\n        });\\n      },\\n    });\\n  }\\n\\n  componentDidMount() {\\n    this.fetchData();\\n  }\\n\\n  createFileDownloadLinks() {\\n    let files = this.state.files;\\n    let toReturn = [];\\n    files.forEach(function(f) {\\n      let download = loris.BaseURL + '/publication/ajax/FileDownload.php?File=' + f.URL;\\n      let link = <a href={download}>{f.URL}</a>;\\n      let uploadType = this.state.uploadTypes[f.PublicationUploadTypeID];\\n      toReturn.push(\\n          <StaticElement\\n            label={'Download ' + uploadType}\\n            text={link}\\n          />\\n      );\\n      if (f.Citation) {\\n        toReturn.push(\\n          <StaticElement\\n            label=\\\"Citation\\\"\\n            text={f.Citation}\\n          />\\n        );\\n      }\\n      if (f.Version) {\\n        toReturn.push(\\n          <StaticElement\\n            label=\\\"Version\\\"\\n            text={f.Version}\\n          />\\n        );\\n      }\\n    }, this);\\n\\n    return toReturn;\\n  }\\n\\n  createMenuFilterLinks(stringArr, filterVar) {\\n    let links = [];\\n    stringArr.forEach(\\n      function(value) {\\n        links.push(\\n          <span>\\n            <a\\n              href={loris.BaseURL + '/publication/?' + filterVar + '=' + value}\\n            >\\n              {value}\\n            </a>\\n            ; &nbsp;\\n          </span>\\n        );\\n      }\\n    );\\n\\n    return links;\\n  }\\n\\n  createStaticComponents() {\\n    let collaborators;\\n    let keywords;\\n    let vois;\\n    let collabLinks;\\n    let keywordLinks;\\n    let voiLinks;\\n    let files;\\n\\n    if (this.state.formData.collaborators.length > 0) {\\n      collabLinks = this.createMenuFilterLinks(\\n        this.state.formData.collaborators.map((c) => c.name),\\n        'collaborators'\\n      );\\n      collaborators = <StaticElement\\n        name=\\\"collaborators\\\"\\n        label=\\\"Collaborators\\\"\\n        text={collabLinks}\\n      />;\\n    }\\n\\n    if (this.state.formData.keywords.length > 0) {\\n      keywordLinks = this.createMenuFilterLinks(\\n        this.state.formData.keywords,\\n        'keywords'\\n      );\\n      keywords = <StaticElement\\n        name=\\\"keywords\\\"\\n        label=\\\"Keywords\\\"\\n        text={keywordLinks}\\n      />;\\n    }\\n\\n    if (this.state.formData.voiFields.length > 0) {\\n      voiLinks = this.createMenuFilterLinks(\\n        this.state.formData.voiFields,\\n        'voi'\\n      );\\n      vois = <StaticElement\\n        name=\\\"variablesOfInterest\\\"\\n        label=\\\"Variables of Interest\\\"\\n        text={voiLinks}\\n      />;\\n    }\\n\\n    if (this.state.files.length > 0) {\\n      files = this.createFileDownloadLinks();\\n    }\\n    return (\\n      <div>\\n        <StaticElement\\n          name=\\\"description\\\"\\n          label=\\\"Description\\\"\\n          text={this.state.formData.description}\\n        />\\n        <StaticElement\\n          name=\\\"leadInvestigator\\\"\\n          label=\\\"Lead Investigator\\\"\\n          text={this.state.formData.leadInvestigator}\\n        />\\n        <StaticElement\\n         name=\\\"leadInvestigatorEmail\\\"\\n         label=\\\"Lead Investigator Email\\\"\\n         text={this.state.formData.leadInvestigatorEmail}\\n        />\\n        {collaborators}\\n        {keywords}\\n        {vois}\\n        {files}\\n      </div>\\n   );\\n  }\\n\\n  createEditableComponents() {\\n    return (\\n      <div>\\n        <ProjectFormFields\\n          files={this.state.files}\\n          numFiles={this.state.numFiles}\\n          formData={this.state.formData}\\n          formErrors={this.state.formErrors}\\n          setFormData={this.setFormData}\\n          setFileData={this.setFileData}\\n          addListItem={this.addListItem}\\n          removeListItem={this.removeListItem}\\n          validateEmail={this.validateEmail}\\n          toggleEmailNotify={this.toggleEmailNotify}\\n          uploadTypes={this.state.uploadTypes}\\n          users={this.state.users}\\n          allVOIs={this.state.allVOIs}\\n          allKWs={this.state.allKWs}\\n          allCollabs={this.state.allCollabs}\\n          editMode={true}\\n          fetchData={this.fetchData}\\n        />\\n      </div>\\n    );\\n  }\\n\\n  addListItem(formElement, value, pendingValKey) {\\n    let formData = this.state.formData;\\n    let listItems = formData[formElement] || [];\\n    listItems.push(value);\\n    formData[formElement] = listItems;\\n    formData[pendingValKey] = null;\\n    this.setState({\\n      formData: formData,\\n    });\\n  }\\n\\n  removeListItem(formElement, value) {\\n    let formData = this.state.formData;\\n    let listItems = formData[formElement];\\n    let index = listItems.indexOf(value);\\n\\n    if (index > -1) {\\n      listItems.splice(index, 1);\\n\\n      formData[formElement] = listItems;\\n      this.setState({\\n        formData: formData,\\n      });\\n    }\\n  }\\n\\n  setFormData(formElement, value) {\\n    let formData = this.state.formData;\\n    formData[formElement] = value;\\n    this.setState({\\n      formData: formData,\\n    });\\n  }\\n\\n  setFileData(formElement, value) {\\n    let numFiles = this.state.numFiles;\\n    if (!this.state.formData[formElement]) {\\n      numFiles += 1;\\n      this.setState({numFiles: numFiles});\\n    }\\n    this.setFormData(formElement, value);\\n  }\\n\\n  render() {\\n    if (!this.state.isLoaded) {\\n      return (\\n        <button className=\\\"btn-info has-spinner\\\">\\n          Loading\\n          <span\\n            className=\\\"glyphicon glyphicon-refresh glyphicon-refresh-animate\\\">\\n          </span>\\n        </button>\\n      );\\n    }\\n    let statusElement;\\n    let rejectReason;\\n    let reviewBtn;\\n    let statusID = this.state.formData.status;\\n    let status = this.state.statusOpts[statusID];\\n    if (loris.userHasPermission('publication_approve')) {\\n      // if user has publication_approve permission, this means that status\\n      // in formData reflects the ID, not the description\\n      statusElement = <SelectElement\\n        name=\\\"status\\\"\\n        label=\\\"Status\\\"\\n        id=\\\"status\\\"\\n        value={this.state.formData.status}\\n        onUserInput={this.setFormData}\\n        required={true}\\n        options={this.state.statusOpts}\\n        emptyOption={false}\\n      />;\\n\\n      if (status === 'Rejected') {\\n        rejectReason = <TextboxElement\\n          name=\\\"rejectedReason\\\"\\n          label=\\\"Reason for rejection\\\"\\n          value={this.state.formData.rejectedReason}\\n          onUserInput={this.setFormData}\\n          required={true}\\n        />;\\n      }\\n      // Set review button only if user does not have edit permission\\n      // to avoid having 2 submit buttons\\n      reviewBtn = this.state.userCanEdit ? undefined : <ButtonElement label=\\\"Submit\\\" />;\\n    } else {\\n      const statClassMap = {\\n        Pending: 'text-warning',\\n        Approved: 'text-success',\\n        Rejected: 'text-danger',\\n      };\\n      let statusText = (\\n        <span className={statClassMap[status]}>\\n          <strong>{status}</strong>\\n        </span>\\n      );\\n      statusElement = <StaticElement\\n        label=\\\"Status\\\"\\n        text={statusText}\\n      />;\\n      if (status === 'Rejected') {\\n        rejectReason = <StaticElement\\n          label=\\\"Reason for rejection\\\"\\n          text={this.state.formData.rejectedReason}\\n        />;\\n      }\\n    }\\n\\n    let formElements;\\n    if (this.state.userCanEdit) {\\n      formElements = this.createEditableComponents();\\n    } else {\\n      formElements = this.createStaticComponents();\\n    }\\n\\n    // only allow the title to be editable if user has editing access\\n    // and proposal is still unreviewed\\n    let title;\\n    if (this.state.userCanEdit && status === 'Pending') {\\n      title = (\\n        <TextboxElement\\n          name=\\\"title\\\"\\n          label=\\\"Title\\\"\\n          onUserInput={this.setFormData}\\n          required={true}\\n          value={this.state.formData.title}\\n        />\\n      );\\n    } else {\\n      title = (\\n        <div className=\\\"row\\\">\\n          <div className=\\\"col-md-3\\\"/>\\n          <h3 className=\\\"col-md-9\\\">\\n            {this.state.formData.title}\\n          </h3>\\n        </div>\\n      );\\n    }\\n\\n    return (\\n      <div className=\\\"row\\\">\\n        <div className=\\\"col-md-12 col-lg-12\\\">\\n          <FormElement\\n            name=\\\"viewProject\\\"\\n            onSubmit={this.handleSubmit}\\n            ref=\\\"form\\\"\\n          >\\n            {title}\\n            {statusElement}\\n            {rejectReason}\\n            {formElements}\\n            {reviewBtn}\\n          </FormElement>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default ViewProject;\\n\"]}","code":"(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"})}Object.defineProperty(exports,\"__esModule\",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value===\"object\"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,\"default\",{enumerable:true,value});if(mode&2&&typeof value!=\"string\")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module[\"default\"]}:function getModuleExports(){return module};__webpack_require__.d(getter,\"a\",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p=\"\";return __webpack_require__(__webpack_require__.s=93)})({22:function(module,exports,__webpack_require__){\"use strict\";var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return call&&((typeof call===\"undefined\"?\"undefined\":_typeof(call))===\"object\"||typeof call===\"function\")?call:self}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+(typeof superClass===\"undefined\"?\"undefined\":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EmailElement=function(_React$Component){_inherits(EmailElement,_React$Component);function EmailElement(){_classCallCheck(this,EmailElement);var _this=_possibleConstructorReturn(this,(EmailElement.__proto__||Object.getPrototypeOf(EmailElement)).call(this));_this.handleChange=_this.handleChange.bind(_this);_this.handleBlur=_this.handleBlur.bind(_this);return _this}_createClass(EmailElement,[{key:\"handleChange\",value:function handleChange(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:\"handleBlur\",value:function handleBlur(e){this.props.onUserBlur(this.props.name,e.target.value)}},{key:\"render\",value:function render(){var disabled=this.props.disabled?\"disabled\":null;var required=this.props.required?\"required\":null;var errorMessage=null;var requiredHTML=null;var elementClass=\"row form-group\";if(required){requiredHTML=React.createElement(\"span\",{className:\"text-danger\"},\"*\")}if(this.props.errorMessage){errorMessage=React.createElement(\"span\",null,this.props.errorMessage);elementClass=\"row form-group has-error\"}return React.createElement(\"div\",{className:elementClass},React.createElement(\"label\",{className:\"col-sm-3 control-label\",htmlFor:this.props.id},this.props.label,requiredHTML),React.createElement(\"div\",{className:\"col-sm-7\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:this.props.name,id:this.props.id,value:this.props.value||\"\",required,disabled,onChange:this.handleChange,onBlur:this.handleBlur}),errorMessage),React.createElement(\"div\",{className:\"col-sm-2\"},React.createElement(\"span\",null,React.createElement(\"input\",{name:this.props.name+\"_notify\",type:\"checkbox\",onChange:this.props.toggleEmailNotify,value:this.props.addressee}),React.createElement(\"span\",null,\"Send email notification?\"))))}}]);return EmailElement}(React.Component);EmailElement.defaultProps={name:\"\",label:\"\",value:\"\",addressee:\"\",id:null,disabled:false,required:false,errorMessage:\"\",onUserInput:function onUserInput(){console.warn(\"onUserInput() callback is not set\")},onUserBlur:function onUserBlur(){}};var ProjectFormFields=function(_React$Component2){_inherits(ProjectFormFields,_React$Component2);function ProjectFormFields(){_classCallCheck(this,ProjectFormFields);var _this2=_possibleConstructorReturn(this,(ProjectFormFields.__proto__||Object.getPrototypeOf(ProjectFormFields)).call(this));_this2.createCollabEmailFields=_this2.createCollabEmailFields.bind(_this2);_this2.deleteUpload=_this2.deleteUpload.bind(_this2);_this2.createFileFields=_this2.createFileFields.bind(_this2);_this2.addCollaborator=_this2.addCollaborator.bind(_this2);_this2.removeCollaborator=_this2.removeCollaborator.bind(_this2);_this2.setCollaboratorEmail=_this2.setCollaboratorEmail.bind(_this2);_this2.toggleEmailNotify=_this2.toggleEmailNotify.bind(_this2);return _this2}_createClass(ProjectFormFields,[{key:\"deleteUpload\",value:function deleteUpload(uploadID){var self=this;swal({title:\"Are you sure?\",text:\"Are you sure you want to delete this file?\",type:\"warning\",showCancelButton:true,confirmButtonText:\"Yes, I am sure!\",cancelButtonText:\"No, cancel it!\"},function(willDelete){if(willDelete){var url=loris.BaseURL+\"/publication/ajax/FileDelete.php?uploadID=\"+uploadID;$.ajax(url,{method:\"DELETE\",success:function success(){self.props.fetchData()}})}})}},{key:\"createFileFields\",value:function createFileFields(){var fileFields=[];if(this.props.files){this.props.files.forEach(function(f){var _this3=this;var downloadURL=loris.BaseURL+\"/publication/ajax/FileDownload.php?File=\"+encodeURIComponent(f.URL);var link=React.createElement(\"span\",null,React.createElement(\"a\",{href:downloadURL},f.URL),\"\",React.createElement(\"span\",{className:\"glyphicon glyphicon-remove\",style:{cursor:\"pointer\"},onClick:function onClick(){return _this3.deleteUpload(f.PublicationUploadID)}}));var existFileFlag=\"existingUpload_\";var pubType=existFileFlag+\"publicationType_\"+f.PublicationUploadID;var pubCit=existFileFlag+\"publicationCitation_\"+f.PublicationUploadID;var pubVer=existFileFlag+\"publicationVersion_\"+f.PublicationUploadID;var pubTypeStr=this.props.uploadTypes[this.props.formData[pubType]];fileFields.push(React.createElement(\"div\",null,React.createElement(StaticElement,{label:pubTypeStr,text:link}),React.createElement(TextboxElement,{name:pubCit,label:\"Citation\",onUserInput:this.props.setFormData,value:this.props.formData[pubCit]}),React.createElement(TextboxElement,{name:pubVer,label:\"Publication Version\",onUserInput:this.props.setFormData,value:this.props.formData[pubVer]})))},this)}for(var i=0;i<=this.props.numFiles;i++){var fileName=\"file_\"+i;fileFields.push(React.createElement(FileElement,{name:fileName,id:\"publicationUploadEl_\"+i,onUserInput:this.props.setFileData,label:\"File to upload\",value:this.props.formData[fileName]}));if(this.props.formData[fileName]){var publicationType=\"publicationType_\"+i;var publicationCitation=\"publicationCitation_\"+i;var publicationVersion=\"publicationVersion_\"+i;fileFields.push(React.createElement(\"div\",null,React.createElement(SelectElement,{name:publicationType,label:\"Publication Type\",onUserInput:this.props.setFormData,value:this.props.formData[publicationType],options:this.props.uploadTypes,required:true}),React.createElement(TextboxElement,{name:publicationCitation,label:\"Citation\",onUserInput:this.props.setFormData,value:this.props.formData[publicationCitation]}),React.createElement(TextboxElement,{name:publicationVersion,label:\"Publication Version\",onUserInput:this.props.setFormData,value:this.props.formData[publicationVersion]})))}}return fileFields}},{key:\"createCollabEmailFields\",value:function createCollabEmailFields(){var collabEmails=[];if(this.props.formData.collaborators){this.props.formData.collaborators.forEach(function(c,i){var name=\"collabEmail_\"+c.name;collabEmails.push(React.createElement(EmailElement,{name,label:c.name+(c.name.slice(-1)===\"s\"?\"'\":\"'s\")+\" Email\",onUserInput:this.setCollaboratorEmail,onUserBlur:this.props.validateEmail,toggleEmailNotify:this.toggleEmailNotify,errorMessage:this.props.formErrors[name],required:false,value:this.props.formData.collaborators[i].email,addressee:c.name}))},this)}return collabEmails}},{key:\"addCollaborator\",value:function addCollaborator(formElement,value,pendingValKey){var collaborators=this.props.formData.collaborators||[];collaborators.push({name:value,email:null,notify:false});this.props.setFormData(\"collaborators\",collaborators);this.props.setFormData(pendingValKey,null)}},{key:\"removeCollaborator\",value:function removeCollaborator(formElement,value){var collaborators=this.props.formData.collaborators||[];collaborators=collaborators.filter(function(c){return c.name!==value});this.props.setFormData(\"collaborators\",collaborators)}},{key:\"setCollaboratorEmail\",value:function setCollaboratorEmail(formElement,value){var collabName=formElement.split(\"_\")[1];var collaborators=this.props.formData.collaborators;var i=collaborators.findIndex(function(c){return c.name===collabName});collaborators[i].email=value;this.props.setFormData(\"collaborators\",collaborators)}},{key:\"toggleEmailNotify\",value:function toggleEmailNotify(e){if(e.target.name.indexOf(\"collabEmail\")>-1){var collaborators=this.props.formData.collaborators;var collabName=e.target.value;var i=collaborators.findIndex(function(c){return c.name===collabName});collaborators[i].notify=!collaborators[i].notify;this.props.setFormData(\"collaborators\",collaborators)}else if(e.target.name===\"leadInvestigatorEmail_notify\"){var currNotify=this.props.formData.notifyLead||false;this.props.setFormData(\"notifyLead\",!currNotify)}}},{key:\"render\",value:function render(){var collabEmails=this.createCollabEmailFields();var fileFields=this.createFileFields();var voiHelp=React.createElement(\"div\",null,\"For help finding variables of interest, consult the \",React.createElement(\"a\",{href:loris.BaseURL+\"/datadict/\"},\"Data Dictionary\"));var collabNames=[];if(this.props.formData.collaborators){collabNames=this.props.formData.collaborators.map(function(c){return c.name})}var voiTypeOptions={All:\"All\",Behavioral:\"Behavioral\",Imaging:\"Imaging\"};var allVOIs=this.props.allVOIs;var voiOptions={};var type=this.props.formData.voiType;if(type&&type!==\"All\"){voiOptions=this.props.allVOIs[type]}else{var bvlCopy=Object.assign({},allVOIs.Behavioral);voiOptions=Object.assign(bvlCopy,allVOIs.Imaging)}return React.createElement(\"div\",null,React.createElement(TextareaElement,{name:\"description\",label:\"Description\",onUserInput:this.props.setFormData,required:true,value:this.props.formData.description}),React.createElement(TextboxElement,{name:\"leadInvestigator\",label:\"Lead Investigator\",onUserInput:this.props.setFormData,required:true,value:this.props.formData.leadInvestigator}),React.createElement(EmailElement,{name:\"leadInvestigatorEmail\",label:\"Lead Investigator Email\",onUserInput:this.props.setFormData,onUserBlur:this.props.validateEmail,toggleEmailNotify:this.toggleEmailNotify,errorMessage:this.props.formErrors.leadInvestigatorEmail,required:true,value:this.props.formData.leadInvestigatorEmail,addressee:\"leadInvestigator\"}),React.createElement(TagsElement,{name:\"usersWithEditPerm\",id:\"usersWithEditPerm\",label:\"LORIS Users with Edit Permission\",options:this.props.users,useSearch:true,strictSearch:true,onUserInput:this.props.setFormData,onUserAdd:this.props.addListItem,onUserRemove:this.props.removeListItem,value:this.props.formData.pendingUWEP,pendingValKey:\"pendingUWEP\",items:this.props.formData.usersWithEditPerm,btnLabel:\"Add User\"}),React.createElement(TagsElement,{name:\"collaborators\",id:\"collaborators\",label:\"Collaborators\",options:this.props.allCollabs,useSearch:true,strictSearch:false,onUserInput:this.props.setFormData,onUserAdd:this.addCollaborator,onUserRemove:this.removeCollaborator,value:this.props.formData.pendingCollab,pendingValKey:\"pendingCollab\",items:collabNames,btnLabel:\"Add Collaborator\"}),collabEmails,React.createElement(TagsElement,{name:\"keywords\",id:\"keywords\",label:\"Keywords\",options:this.props.allKWs,useSearch:true,strictSearch:false,onUserInput:this.props.setFormData,onUserAdd:this.props.addListItem,onUserRemove:this.props.removeListItem,value:this.props.formData.pendingKWItem,pendingValKey:\"pendingKWItem\",items:this.props.formData.keywords,btnLabel:\"Add Keyword\"}),React.createElement(SelectElement,{name:\"voiType\",label:\"Type of Variables of Interest\",options:voiTypeOptions,onUserInput:this.props.setFormData,value:this.props.formData.voiType,emptyOption:false}),React.createElement(TagsElement,{name:\"voiFields\",id:\"voiFields\",label:\"Variables of Interest\",useSearch:true,strictSearch:true,onUserInput:this.props.setFormData,onUserAdd:this.props.addListItem,onUserRemove:this.props.removeListItem,required:false,value:this.props.formData.pendingItemVF,options:voiOptions,pendingValKey:\"pendingItemVF\",items:this.props.formData.voiFields,btnLabel:\"Add Variable of Interest\"}),React.createElement(StaticElement,{text:voiHelp}),fileFields,React.createElement(ButtonElement,{label:this.props.editMode?\"Submit\":\"Propose Project\"}))}}]);return ProjectFormFields}(React.Component);exports.default=ProjectFormFields},93:function(module,exports,__webpack_require__){\"use strict\";var _viewProject=__webpack_require__(94);var _viewProject2=_interopRequireDefault(_viewProject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var args=QueryString.get(document.currentScript.src);$(function(){var viewProject=React.createElement(\"div\",{className:\"page-edit-form\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-9 col-lg-7\"},React.createElement(_viewProject2.default,{DataURL:loris.BaseURL+\"/publication/ajax/getData.php?action=getProjectData&id=\"+args.id,action:loris.BaseURL+\"/publication/ajax/FileUpload.php?action=editProject&id=\"+args.id}))));ReactDOM.render(viewProject,document.getElementById(\"lorisworkspace\"))})},94:function(module,exports,__webpack_require__){\"use strict\";var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _projectFields=__webpack_require__(22);var _projectFields2=_interopRequireDefault(_projectFields);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return call&&((typeof call===\"undefined\"?\"undefined\":_typeof(call))===\"object\"||typeof call===\"function\")?call:self}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+(typeof superClass===\"undefined\"?\"undefined\":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ViewProject=function(_React$Component){_inherits(ViewProject,_React$Component);function ViewProject(props){_classCallCheck(this,ViewProject);var _this=_possibleConstructorReturn(this,(ViewProject.__proto__||Object.getPrototypeOf(ViewProject)).call(this,props));_this.state={formData:{},formErrors:{},numFiles:0,isLoaded:false};_this.handleSubmit=_this.handleSubmit.bind(_this);_this.setFormData=_this.setFormData.bind(_this);_this.setFileData=_this.setFileData.bind(_this);_this.createFileDownloadLinks=_this.createFileDownloadLinks.bind(_this);_this.createMenuFilterLinks=_this.createMenuFilterLinks.bind(_this);_this.createStaticComponents=_this.createStaticComponents.bind(_this);_this.createEditableComponents=_this.createEditableComponents.bind(_this);_this.addListItem=_this.addListItem.bind(_this);_this.removeListItem=_this.removeListItem.bind(_this);_this.validateEmail=_this.validateEmail.bind(_this);_this.fetchData=_this.fetchData.bind(_this);return _this}_createClass(ViewProject,[{key:\"validateEmail\",value:function validateEmail(field,email){var formErrors=this.state.formErrors;if(email===\"\"||email===null||email===undefined){delete formErrors[field]}else if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)===false){formErrors[field]=\"Invalid email\"}else{delete formErrors[field]}this.setState({formErrors})}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();if(Object.keys(this.state.formErrors).length>0){swal(\"Please fix any remaining form errors before submission\",\"\",\"error\");return}var formData=this.state.formData;var formObj=new FormData;for(var key in formData){if(formData.hasOwnProperty(key)&&formData[key]!==\"\"){var formVal=void 0;if(Array.isArray(formData[key])){formVal=JSON.stringify(formData[key])}else{formVal=formData[key]}formObj.append(key,formVal)}}$.ajax({type:\"POST\",url:this.props.action,data:formObj,cache:false,contentType:false,processData:false,success:function success(){swal(\"Edit Successful!\",\"\",\"success\")},error:function error(jqXHR){console.error(jqXHR);var resp=\"Something went wrong!\";try{resp=JSON.parse(jqXHR.responseText).message}catch(e){console.error(e)}swal(\"Edit failed!\",resp,\"error\")}})}},{key:\"fetchData\",value:function fetchData(){var self=this;$.ajax(this.props.DataURL,{dataType:\"json\",success:function success(data){var formData={title:data.title,description:data.description,leadInvestigator:data.leadInvestigator,leadInvestigatorEmail:data.leadInvestigatorEmail,notifyLead:false,status:data.status,voiFields:data.voi,keywords:data.keywords,collaborators:data.collaborators,usersWithEditPerm:data.usersWithEditPerm,rejectedReason:data.rejectedReason};if(data.files){data.files.forEach(function(f){var existFileFlag=\"existingUpload_\";var pubType=existFileFlag+\"publicationType_\"+f.PublicationUploadID;var pubCit=existFileFlag+\"publicationCitation_\"+f.PublicationUploadID;var pubVer=existFileFlag+\"publicationVersion_\"+f.PublicationUploadID;formData[pubType]=f.PublicationUploadTypeID;formData[pubCit]=f.Citation;formData[pubVer]=f.Version})}self.setState({formData,users:data.users,statusOpts:data.statusOpts,userCanEdit:data.userCanEdit,allVOIs:data.allVOIs,allKWs:data.allKWs,allCollabs:data.allCollabs,uploadTypes:data.uploadTypes,files:data.files,isLoaded:true})},error:function error(_error,errorCode,errorMsg){console.error(_error,errorCode,errorMsg);self.setState({error:\"An error occurred when loading the form!\"})}})}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData()}},{key:\"createFileDownloadLinks\",value:function createFileDownloadLinks(){var files=this.state.files;var toReturn=[];files.forEach(function(f){var download=loris.BaseURL+\"/publication/ajax/FileDownload.php?File=\"+f.URL;var link=React.createElement(\"a\",{href:download},f.URL);var uploadType=this.state.uploadTypes[f.PublicationUploadTypeID];toReturn.push(React.createElement(StaticElement,{label:\"Download \"+uploadType,text:link}));if(f.Citation){toReturn.push(React.createElement(StaticElement,{label:\"Citation\",text:f.Citation}))}if(f.Version){toReturn.push(React.createElement(StaticElement,{label:\"Version\",text:f.Version}))}},this);return toReturn}},{key:\"createMenuFilterLinks\",value:function createMenuFilterLinks(stringArr,filterVar){var links=[];stringArr.forEach(function(value){links.push(React.createElement(\"span\",null,React.createElement(\"a\",{href:loris.BaseURL+\"/publication/?\"+filterVar+\"=\"+value},value),\"; \"))});return links}},{key:\"createStaticComponents\",value:function createStaticComponents(){var collaborators=void 0;var keywords=void 0;var vois=void 0;var collabLinks=void 0;var keywordLinks=void 0;var voiLinks=void 0;var files=void 0;if(this.state.formData.collaborators.length>0){collabLinks=this.createMenuFilterLinks(this.state.formData.collaborators.map(function(c){return c.name}),\"collaborators\");collaborators=React.createElement(StaticElement,{name:\"collaborators\",label:\"Collaborators\",text:collabLinks})}if(this.state.formData.keywords.length>0){keywordLinks=this.createMenuFilterLinks(this.state.formData.keywords,\"keywords\");keywords=React.createElement(StaticElement,{name:\"keywords\",label:\"Keywords\",text:keywordLinks})}if(this.state.formData.voiFields.length>0){voiLinks=this.createMenuFilterLinks(this.state.formData.voiFields,\"voi\");vois=React.createElement(StaticElement,{name:\"variablesOfInterest\",label:\"Variables of Interest\",text:voiLinks})}if(this.state.files.length>0){files=this.createFileDownloadLinks()}return React.createElement(\"div\",null,React.createElement(StaticElement,{name:\"description\",label:\"Description\",text:this.state.formData.description}),React.createElement(StaticElement,{name:\"leadInvestigator\",label:\"Lead Investigator\",text:this.state.formData.leadInvestigator}),React.createElement(StaticElement,{name:\"leadInvestigatorEmail\",label:\"Lead Investigator Email\",text:this.state.formData.leadInvestigatorEmail}),collaborators,keywords,vois,files)}},{key:\"createEditableComponents\",value:function createEditableComponents(){return React.createElement(\"div\",null,React.createElement(_projectFields2.default,{files:this.state.files,numFiles:this.state.numFiles,formData:this.state.formData,formErrors:this.state.formErrors,setFormData:this.setFormData,setFileData:this.setFileData,addListItem:this.addListItem,removeListItem:this.removeListItem,validateEmail:this.validateEmail,toggleEmailNotify:this.toggleEmailNotify,uploadTypes:this.state.uploadTypes,users:this.state.users,allVOIs:this.state.allVOIs,allKWs:this.state.allKWs,allCollabs:this.state.allCollabs,editMode:true,fetchData:this.fetchData}))}},{key:\"addListItem\",value:function addListItem(formElement,value,pendingValKey){var formData=this.state.formData;var listItems=formData[formElement]||[];listItems.push(value);formData[formElement]=listItems;formData[pendingValKey]=null;this.setState({formData})}},{key:\"removeListItem\",value:function removeListItem(formElement,value){var formData=this.state.formData;var listItems=formData[formElement];var index=listItems.indexOf(value);if(index>-1){listItems.splice(index,1);formData[formElement]=listItems;this.setState({formData})}}},{key:\"setFormData\",value:function setFormData(formElement,value){var formData=this.state.formData;formData[formElement]=value;this.setState({formData})}},{key:\"setFileData\",value:function setFileData(formElement,value){var numFiles=this.state.numFiles;if(!this.state.formData[formElement]){numFiles+=1;this.setState({numFiles})}this.setFormData(formElement,value)}},{key:\"render\",value:function render(){if(!this.state.isLoaded){return React.createElement(\"button\",{className:\"btn-info has-spinner\"},\"Loading\",React.createElement(\"span\",{className:\"glyphicon glyphicon-refresh glyphicon-refresh-animate\"}))}var statusElement=void 0;var rejectReason=void 0;var reviewBtn=void 0;var statusID=this.state.formData.status;var status=this.state.statusOpts[statusID];if(loris.userHasPermission(\"publication_approve\")){statusElement=React.createElement(SelectElement,{name:\"status\",label:\"Status\",id:\"status\",value:this.state.formData.status,onUserInput:this.setFormData,required:true,options:this.state.statusOpts,emptyOption:false});if(status===\"Rejected\"){rejectReason=React.createElement(TextboxElement,{name:\"rejectedReason\",label:\"Reason for rejection\",value:this.state.formData.rejectedReason,onUserInput:this.setFormData,required:true})}reviewBtn=this.state.userCanEdit?undefined:React.createElement(ButtonElement,{label:\"Submit\"})}else{var statClassMap={Pending:\"text-warning\",Approved:\"text-success\",Rejected:\"text-danger\"};var statusText=React.createElement(\"span\",{className:statClassMap[status]},React.createElement(\"strong\",null,status));statusElement=React.createElement(StaticElement,{label:\"Status\",text:statusText});if(status===\"Rejected\"){rejectReason=React.createElement(StaticElement,{label:\"Reason for rejection\",text:this.state.formData.rejectedReason})}}var formElements=void 0;if(this.state.userCanEdit){formElements=this.createEditableComponents()}else{formElements=this.createStaticComponents()}var title=void 0;if(this.state.userCanEdit&&status===\"Pending\"){title=React.createElement(TextboxElement,{name:\"title\",label:\"Title\",onUserInput:this.setFormData,required:true,value:this.state.formData.title})}else{title=React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-3\"}),React.createElement(\"h3\",{className:\"col-md-9\"},this.state.formData.title))}return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-12 col-lg-12\"},React.createElement(FormElement,{name:\"viewProject\",onSubmit:this.handleSubmit,ref:\"form\"},title,statusElement,rejectReason,formElements,reviewBtn)))}}]);return ViewProject}(React.Component);exports.default=ViewProject}});","extractedComments":[]}